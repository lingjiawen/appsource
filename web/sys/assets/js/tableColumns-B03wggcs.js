import{d as D,b as k,E as z,o as r,c as C,U as e,O as o,ai as s,B as F,u as T,P as u,al as i,a as n,F as R,a8 as $,M as c,T as y,S as h}from"./@vue-CIdpUgdv.js";import{o as B}from"./type-AtHV8VU4.js";import M from"./relationTable-D_eZHI_c.js";import{_ as N}from"./lodash-kx6XzW9U.js";import{a as Q}from"./index-Cf93PWEY.js";import"./index-BXP_iOH9.js";import"./element-plus-BcbsnzDt.js";import"./lodash-es-1chB_st9.js";import"./@vueuse-Dw_h8qVP.js";import"./@element-plus-jSNvwxF2.js";import"./@popperjs-D9SI2xQl.js";import"./@ctrl-r5W6hzzQ.js";import"./dayjs-BB1_x23Y.js";import"./@intlify-BrbEMGpa.js";import"./async-validator-DKvM95Vc.js";import"./memoize-one-BdPwpGay.js";import"./normalize-wheel-es-B6fDCfyv.js";import"./@floating-ui-DSOXY3Ah.js";import"./pinia-DE-bJcb2.js";import"./vue-demi-Dq6ymT-8.js";import"./vue-router-CWOL7ATe.js";import"./js-cookie-Cz0CWeBA.js";import"./nprogress-ekFNJb3B.js";import"./axios-CdtiCRuU.js";import"./qs-Cbync0Ql.js";import"./side-channel-Bxu5bNZA.js";import"./get-intrinsic-BKEvijrG.js";import"./es-errors-DzOT6E3C.js";import"./has-symbols-eVqrYdw7.js";import"./has-proto-JnoBQRdH.js";import"./function-bind-BbkWVFrm.js";import"./hasown-DYqjtFKE.js";import"./call-bind-Bt3bzbWQ.js";import"./set-function-length-B5OANX0j.js";import"./define-data-property-DO9o5wXF.js";import"./es-define-property-tzmkNPou.js";import"./gopd-CEkvUycD.js";import"./has-property-descriptors-DphFXkuo.js";import"./object-inspect-C4zVfScY.js";import"./vue-i18n-C6ZazF2L.js";import"./vue-BUaMJYO7.js";import"./vue-clipboard3-B4JKg9Nx.js";import"./clipboard-UlwKUFeW.js";import"./mitt-DJ65BbbF.js";import"./vue-grid-layout-CBs1MJUm.js";import"./vue-simple-uploader-DfJosV98.js";import"./vue-ueditor-wrap-DRzi_KnA.js";const q={class:"app-container"},P=["onUpdate:modelValue"],W=["onUpdate:modelValue"],j=["onUpdate:modelValue"],G=["onUpdate:modelValue"],H=["onUpdate:modelValue"],K=["onUpdate:modelValue"],A=["onUpdate:modelValue"],J=["onUpdate:modelValue"],X=["onUpdate:modelValue"],Y={style:{float:"left"}},Z={style:{float:"right",color:"#8492a6","font-size":"13px"}},ee=D({name:"genTableColumns",__name:"tableColumns",setup(le){const x=k(),E=k(),b=F("tableData"),L=k(document.documentElement.scrollHeight-300+"px"),g=k([]);z(()=>{B().then(m=>{g.value=m.data.dictType??[]})});const w=m=>{x.value.openDialog(m.columnId)},S=(m,_)=>{b.value.columns.map((v,d)=>{if(v.columnId===m){let t=N.cloneDeep(v);t.linkTableName=_.linkTableName,t.linkLabelId=_.linkLabelId,t.linkLabelName=_.linkLabelName,b.value.columns[d]=t}})},U=m=>{b.value.columns.map((_,v)=>{if(_.columnId===m.columnId){let d=N.cloneDeep(_);d.linkTableName="",d.linkLabelId="",d.linkLabelName="",b.value.columns[v]=d}})};return(m,_)=>{const v=s("el-alert"),d=s("el-table-column"),t=s("el-option"),V=s("el-select"),p=s("el-checkbox"),f=s("el-tag"),I=s("el-table"),O=s("el-card");return r(),C("div",q,[e(O,{shadow:"never",header:"字段信息配置"},{default:o(()=>[e(v,{title:"⚠️表字段中的updated_at、deleted_at的字段在此列表中已经隐藏",type:"warning","show-icon":""}),e(I,{ref_key:"tableColumnsRef",ref:E,data:T(b).columns,"row-key":"columnId","max-height":L.value,width:"100%"},{default:o(()=>[e(d,{label:"序号",type:"index",width:"50",fixed:""}),e(d,{label:"字段列名",prop:"columnName",width:"150",fixed:"","show-overflow-tooltip":!0}),e(d,{label:"字段描述",width:"150",fixed:""},{default:o(l=>[u(n("textarea",{class:"el-textarea__inner","onUpdate:modelValue":a=>l.row.columnComment=a},null,8,P),[[i,l.row.columnComment,void 0,{lazy:!0}]])]),_:1}),e(d,{"class-name":"allowDrag",label:"物理类型",prop:"columnType",width:"120","show-overflow-tooltip":!0}),e(d,{label:"go类型",width:"120"},{default:o(l=>[e(V,{modelValue:l.row.goType,"onUpdate:modelValue":a=>l.row.goType=a},{default:o(()=>[e(t,{label:"int",value:"int"}),e(t,{label:"uint",value:"uint"}),e(t,{label:"int64",value:"int64"}),e(t,{label:"uint64",value:"uint64"}),e(t,{label:"float64",value:"float64"}),e(t,{label:"string",value:"string"}),e(t,{label:"Time",value:"Time"}),e(t,{label:"byte",value:"byte"}),e(t,{label:"bool",value:"bool"})]),_:2},1032,["modelValue","onUpdate:modelValue"])]),_:1}),e(d,{label:"TS类型",width:"120"},{default:o(l=>[e(V,{modelValue:l.row.tsType,"onUpdate:modelValue":a=>l.row.tsType=a},{default:o(()=>[e(t,{label:"string",value:"string"}),e(t,{label:"number",value:"number"}),e(t,{label:"boolean",value:"boolean"}),e(t,{label:"string[]",value:"string[]"}),e(t,{label:"number[]",value:"number[]"}),e(t,{label:"any",value:"any"}),e(t,{label:"tuple",value:"tuple"}),e(t,{label:"enum",value:"enum"})]),_:2},1032,["modelValue","onUpdate:modelValue"])]),_:1}),e(d,{label:"go属性",width:"150"},{default:o(l=>[u(n("textarea",{class:"el-textarea__inner","onUpdate:modelValue":a=>l.row.goField=a},null,8,W),[[i,l.row.goField,void 0,{lazy:!0}]])]),_:1}),e(d,{label:"json属性",width:"150"},{default:o(l=>[u(n("textarea",{class:"el-textarea__inner","onUpdate:modelValue":a=>l.row.htmlField=a},null,8,j),[[i,l.row.htmlField,void 0,{lazy:!0}]])]),_:1}),e(d,{label:"编辑",width:"50"},{default:o(l=>[e(p,{modelValue:l.row.isEdit,"onUpdate:modelValue":a=>l.row.isEdit=a,disabled:l.row.isPk=="1"||l.row.columnName=="created_at"||l.row.columnName=="dept_id"||l.row.columnName=="created_by"||l.row.columnName=="updated_by"},null,8,["modelValue","onUpdate:modelValue","disabled"])]),_:1}),e(d,{label:"列表",width:"50"},{default:o(l=>[e(p,{modelValue:l.row.isList,"onUpdate:modelValue":a=>l.row.isList=a},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),e(d,{label:"列表固定",width:"50"},{default:o(l=>[e(p,{modelValue:l.row.isFixed,"onUpdate:modelValue":a=>l.row.isFixed=a},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),e(d,{label:"过长隐藏",width:"50"},{default:o(l=>[e(p,{modelValue:l.row.isOverflowTooltip,"onUpdate:modelValue":a=>l.row.isOverflowTooltip=a},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),e(d,{label:"详情",width:"50"},{default:o(l=>[e(p,{modelValue:l.row.isDetail,"onUpdate:modelValue":a=>l.row.isDetail=a},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),e(d,{label:"查询",width:"50"},{default:o(l=>[e(p,{modelValue:l.row.isQuery,"onUpdate:modelValue":a=>l.row.isQuery=a,disabled:l.row.htmlField==T(b).treeParentCode},null,8,["modelValue","onUpdate:modelValue","disabled"])]),_:1}),e(d,{label:"查询方式",width:"120"},{default:o(l=>[e(V,{modelValue:l.row.queryType,"onUpdate:modelValue":a=>l.row.queryType=a},{default:o(()=>[e(t,{label:"=",value:"EQ"}),e(t,{label:"!=",value:"NE"}),e(t,{label:">",value:"GT"}),e(t,{label:">=",value:"GTE"}),e(t,{label:"<",value:"LT"}),e(t,{label:"<=",value:"LTE"}),e(t,{label:"LIKE",value:"LIKE"}),e(t,{label:"BETWEEN",value:"BETWEEN"})]),_:2},1032,["modelValue","onUpdate:modelValue"])]),_:1}),e(d,{label:"必填",width:"50"},{default:o(l=>[e(p,{modelValue:l.row.isRequired,"onUpdate:modelValue":a=>l.row.isRequired=a},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),e(d,{label:"显示类型",width:"140"},{default:o(l=>[e(V,{modelValue:l.row.htmlType,"onUpdate:modelValue":a=>l.row.htmlType=a,disabled:l.row.htmlField==T(b).treeParentCode},{default:o(()=>[e(t,{label:"文本框",value:"input"}),e(t,{label:"数字输入框",value:"inputNumber"}),e(t,{label:"文本域",value:"textarea"}),e(t,{label:"下拉单选框",value:"select"}),e(t,{label:"下拉多选框",value:"selects"}),e(t,{label:"树形单选框",value:"treeSelect"}),e(t,{label:"树形多选框",value:"treeSelects"}),e(t,{label:"单选框",value:"radio"}),e(t,{label:"开关",value:"switch"}),e(t,{label:"复选框",value:"checkbox"}),e(t,{label:"日期控件",value:"date"}),e(t,{label:"日期时间控件",value:"datetime"}),e(t,{label:"富文本",value:"richtext"}),e(t,{label:"单图上传",value:"imagefile"}),e(t,{label:"多图上传",value:"images"}),e(t,{label:"单文件上传",value:"file"}),e(t,{label:"多文件上传",value:"files"}),e(t,{label:"图片选择器",value:"imageSelector"}),e(t,{label:"附件选择器",value:"fileSelector"}),e(t,{label:"用户选择器（单选）",value:"userSelectorSingle"}),e(t,{label:"用户选择器（多选）",value:"userSelectorMultiple"}),e(t,{label:"部门选择器（单选）",value:"deptSelectorSingle"}),e(t,{label:"部门选择器（多选）",value:"deptSelectorMultiple"}),e(t,{label:"键值对",value:"keyValue"})]),_:2},1032,["modelValue","onUpdate:modelValue","disabled"])]),_:1}),e(d,{label:"列表排序",width:"100"},{default:o(l=>[u(n("textarea",{class:"el-textarea__inner","onUpdate:modelValue":a=>l.row.sortOrderList=a},null,8,G),[[i,l.row.sortOrderList,void 0,{lazy:!0}]])]),_:1}),e(d,{label:"详情排序",width:"100"},{default:o(l=>[u(n("textarea",{class:"el-textarea__inner","onUpdate:modelValue":a=>l.row.sortOrderDetail=a},null,8,H),[[i,l.row.sortOrderDetail,void 0,{lazy:!0}]])]),_:1}),e(d,{label:"编辑排序",width:"100"},{default:o(l=>[u(n("textarea",{class:"el-textarea__inner","onUpdate:modelValue":a=>l.row.sortOrderEdit=a},null,8,K),[[i,l.row.sortOrderEdit,void 0,{lazy:!0}]])]),_:1}),e(d,{label:"查询排序",width:"100"},{default:o(l=>[u(n("textarea",{class:"el-textarea__inner","onUpdate:modelValue":a=>l.row.sortOrderQuery=a},null,8,A),[[i,l.row.sortOrderQuery,void 0,{lazy:!0}]])]),_:1}),e(d,{label:"列表宽度",width:"100"},{default:o(l=>[u(n("textarea",{class:"el-textarea__inner","onUpdate:modelValue":a=>l.row.minWidth=a},null,8,J),[[i,l.row.minWidth,void 0,{lazy:!0}]])]),_:1}),e(d,{label:"详情占列",width:"100"},{default:o(l=>[u(n("textarea",{class:"el-textarea__inner","onUpdate:modelValue":a=>l.row.colSpan=a},null,8,X),[[i,l.row.colSpan,void 0,{lazy:!0}]])]),_:1}),e(d,{label:"字典类型",width:"160"},{default:o(l=>[e(V,{modelValue:l.row.dictType,"onUpdate:modelValue":a=>l.row.dictType=a,clearable:"",filterable:"",placeholder:"请选择"},{default:o(()=>[(r(!0),C(R,null,$(g.value,a=>(r(),c(t,{key:a.dictType,label:a.dictName,value:a.dictType},{default:o(()=>[n("span",Y,y(a.dictName),1),n("span",Z,y(a.dictType),1)]),_:2},1032,["label","value"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue"])]),_:1}),e(d,{label:"关联表",width:"160"},{default:o(l=>[l.row.linkTableName?(r(),c(f,{key:0,type:"success",onClick:a=>w(l.row),closable:"",onClose:a=>U(l.row)},{default:o(()=>[h(y(l.row.linkTableName),1)]),_:2},1032,["onClick","onClose"])):(r(),c(f,{key:1,onClick:a=>w(l.row)},{default:o(()=>[h("点击选择")]),_:2},1032,["onClick"]))]),_:1}),e(d,{label:"关联表key",width:"150"},{default:o(l=>[l.row.linkLabelId?(r(),c(f,{key:0,type:"success",onClick:a=>w(l.row),closable:"",onClose:a=>U(l.row)},{default:o(()=>[h(y(l.row.linkLabelId),1)]),_:2},1032,["onClick","onClose"])):(r(),c(f,{key:1,onClick:a=>w(l.row)},{default:o(()=>[h("点击选择")]),_:2},1032,["onClick"]))]),_:1}),e(d,{label:"关联表value",width:"150"},{default:o(l=>[l.row.linkLabelName?(r(),c(f,{key:0,type:"success",onClick:a=>w(l.row),closable:"",onClose:a=>U(l.row)},{default:o(()=>[h(y(l.row.linkLabelName),1)]),_:2},1032,["onClick","onClose"])):(r(),c(f,{key:1,onClick:a=>w(l.row)},{default:o(()=>[h("点击选择")]),_:2},1032,["onClick"]))]),_:1})]),_:1},8,["data","max-height"])]),_:1}),e(M,{ref_key:"relationTableRef",ref:x,onOk:S},null,512)])}}}),Ae=Q(ee,[["__scopeId","data-v-83072a66"]]);export{Ae as default};
