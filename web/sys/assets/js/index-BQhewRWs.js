import{d as ke,b as w,k as Ve,Z as ye,_ as Se,j as we,o as b,c as he,U as e,O as l,i as xe,ai as n,aq as j,a as G,u as i,a9 as x,I as h,S as c,T as A,P as f,V as D,M as V,ae as Q}from"./@vue-CIdpUgdv.js";import{l as De,c as Pe,b as Ce,d as Ue}from"./signPlatform-BmRQ-rw0.js";import Be from"./edit-jv8KOcat.js";import Ae from"./detail-Cfm4JRb0.js";import{l as Ee,d as Ne}from"./index-8l9Z7Oa5.js";import{a as X,E as Re}from"./element-plus-BcbsnzDt.js";import{a as Te}from"./index-Cf93PWEY.js";import"./lodash-es-1chB_st9.js";import"./@vueuse-Dw_h8qVP.js";import"./@element-plus-jSNvwxF2.js";import"./@popperjs-D9SI2xQl.js";import"./@ctrl-r5W6hzzQ.js";import"./dayjs-BB1_x23Y.js";import"./@intlify-BrbEMGpa.js";import"./async-validator-DKvM95Vc.js";import"./memoize-one-BdPwpGay.js";import"./normalize-wheel-es-B6fDCfyv.js";import"./@floating-ui-DSOXY3Ah.js";import"./pinia-DE-bJcb2.js";import"./vue-demi-Dq6ymT-8.js";import"./vue-router-CWOL7ATe.js";import"./js-cookie-Cz0CWeBA.js";import"./nprogress-ekFNJb3B.js";import"./axios-CdtiCRuU.js";import"./qs-Cbync0Ql.js";import"./side-channel-Bxu5bNZA.js";import"./get-intrinsic-BKEvijrG.js";import"./es-errors-DzOT6E3C.js";import"./has-symbols-eVqrYdw7.js";import"./has-proto-JnoBQRdH.js";import"./function-bind-BbkWVFrm.js";import"./hasown-DYqjtFKE.js";import"./call-bind-Bt3bzbWQ.js";import"./set-function-length-B5OANX0j.js";import"./define-data-property-DO9o5wXF.js";import"./es-define-property-tzmkNPou.js";import"./gopd-CEkvUycD.js";import"./has-property-descriptors-DphFXkuo.js";import"./object-inspect-C4zVfScY.js";import"./vue-i18n-C6ZazF2L.js";import"./vue-BUaMJYO7.js";import"./vue-clipboard3-B4JKg9Nx.js";import"./clipboard-UlwKUFeW.js";import"./mitt-DJ65BbbF.js";import"./vue-grid-layout-CBs1MJUm.js";import"./vue-simple-uploader-DfJosV98.js";import"./vue-ueditor-wrap-DRzi_KnA.js";const $e={class:"install-signPlatform-container"},Ie={class:"install-signPlatform-search mb15"},Le=ke({name:"apiV1InstallSignPlatformList",__name:"index",setup(Me){const{proxy:E}=xe(),C=w(!1),U=w(),B=w(),N=w(),R=w(),p=w(!1),T=w(!0),$=w(!0),I=Ve(()=>p.value===!1?"展开搜索":"收起搜索");E.useDict();const k=ye({ids:[],tableData:{data:[],total:0,loading:!1,param:{pageNum:1,pageSize:10,id:void 0,name:void 0,code:void 0,baseUrl:void 0,openSsl:void 0,status:void 0,token:void 0,createdAt:void 0,dateRange:[]}}}),{tableData:s}=Se(k);we(()=>{Z()});const Z=()=>{m()},L=o=>{o&&(o.resetFields(),m())},m=()=>{C.value=!0,De(k.tableData.param).then(o=>{let a=o.data.list??[];k.tableData.data=a,k.tableData.total=o.data.total,C.value=!1})},M=()=>{p.value=!p.value},J=o=>{Pe(o.id,o.openSsl).catch(()=>{setTimeout(()=>{o.openSsl=!o.openSsl},300)})},W=o=>{Ce(o.id,o.status).catch(()=>{setTimeout(()=>{o.status=!o.status},300)})},ee=o=>{k.ids=o.map(a=>a.id),T.value=o.length!=1,$.value=!o.length},le=()=>{B.value.openDialog()},Y=o=>{o||(o=k.tableData.data.find(a=>a.id===k.ids[0])),B.value.openDialog(Q(o))},K=o=>{let a="你确定要删除所选数据？",_=[];if(o?(a="此操作将永久删除数据，是否继续?",_=[o.id]):_=k.ids,_.length===0){X.error("请选择要删除的数据。");return}Re.confirm(a,"提示",{confirmButtonText:"确认",cancelButtonText:"取消",type:"warning"}).then(()=>{Ue(_).then(()=>{X.success("删除成功"),m()})}).catch(()=>{})},ae=o=>{N.value.openDialog(Q(o))},te=()=>{Ne("/api/v1/install/signPlatform/export",k.tableData.param,"get")},oe=()=>{R.value.open()};return(o,a)=>{const _=n("el-input"),v=n("el-form-item"),d=n("el-col"),z=n("ele-Search"),r=n("el-icon"),u=n("el-button"),H=n("ele-Refresh"),q=n("ele-ArrowUp"),F=n("ele-ArrowDown"),P=n("el-switch"),ne=n("el-date-picker"),O=n("el-row"),ie=n("el-form"),se=n("ele-Plus"),re=n("ele-Edit"),pe=n("ele-Delete"),de=n("ele-Download"),me=n("ele-Upload"),g=n("el-table-column"),ue=n("ele-View"),ce=n("ele-EditPen"),fe=n("ele-DeleteFilled"),_e=n("el-table"),ve=n("pagination"),ge=n("el-card"),y=j("auth"),be=j("loading");return b(),he("div",$e,[e(ge,{shadow:"hover"},{default:l(()=>[G("div",Ie,[e(ie,{model:i(s).param,ref_key:"queryRef",ref:U,inline:!0,"label-width":"100px"},{default:l(()=>[e(O,null,{default:l(()=>[e(d,{span:8,class:"colBlock"},{default:l(()=>[e(v,{label:"ID",prop:"id"},{default:l(()=>[e(_,{modelValue:i(s).param.id,"onUpdate:modelValue":a[0]||(a[0]=t=>i(s).param.id=t),placeholder:"请输入ID",clearable:"",onKeyup:x(m,["enter","native"])},null,8,["modelValue"])]),_:1})]),_:1}),e(d,{span:8,class:"colBlock"},{default:l(()=>[e(v,{label:"平台名",prop:"name"},{default:l(()=>[e(_,{modelValue:i(s).param.name,"onUpdate:modelValue":a[1]||(a[1]=t=>i(s).param.name=t),placeholder:"请输入平台名",clearable:"",onKeyup:x(m,["enter","native"])},null,8,["modelValue"])]),_:1})]),_:1}),e(d,{span:8,class:h(p.value?"colNone":"colBlock")},{default:l(()=>[e(v,null,{default:l(()=>[e(u,{type:"primary",onClick:m},{default:l(()=>[e(r,null,{default:l(()=>[e(z)]),_:1}),c("搜索")]),_:1}),e(u,{onClick:a[2]||(a[2]=t=>L(U.value))},{default:l(()=>[e(r,null,{default:l(()=>[e(H)]),_:1}),c("重置")]),_:1}),e(u,{type:"primary",link:"",onClick:M},{default:l(()=>[c(A(I.value)+" ",1),f(e(r,null,{default:l(()=>[e(q)]),_:1},512),[[D,p.value]]),f(e(r,null,{default:l(()=>[e(F)]),_:1},512),[[D,!p.value]])]),_:1})]),_:1})]),_:1},8,["class"]),e(d,{span:8,class:h(p.value?"colBlock":"colNone")},{default:l(()=>[e(v,{label:"平台标识",prop:"code"},{default:l(()=>[e(_,{modelValue:i(s).param.code,"onUpdate:modelValue":a[3]||(a[3]=t=>i(s).param.code=t),placeholder:"请输入平台标识",clearable:"",onKeyup:x(m,["enter","native"])},null,8,["modelValue"])]),_:1})]),_:1},8,["class"]),e(d,{span:8,class:h(p.value?"colBlock":"colNone")},{default:l(()=>[e(v,{label:"域名",prop:"baseUrl"},{default:l(()=>[e(_,{modelValue:i(s).param.baseUrl,"onUpdate:modelValue":a[4]||(a[4]=t=>i(s).param.baseUrl=t),placeholder:"请输入域名",clearable:"",onKeyup:x(m,["enter","native"])},null,8,["modelValue"])]),_:1})]),_:1},8,["class"]),e(d,{span:8,class:h(p.value?"colBlock":"colNone")},{default:l(()=>[e(v,{label:"开启SSL",prop:"openSsl"},{default:l(()=>[e(P,{modelValue:i(s).param.openSsl,"onUpdate:modelValue":a[5]||(a[5]=t=>i(s).param.openSsl=t),class:"ml-2"},null,8,["modelValue"])]),_:1})]),_:1},8,["class"]),e(d,{span:8,class:h(p.value?"colBlock":"colNone")},{default:l(()=>[e(v,{label:"启用",prop:"status"},{default:l(()=>[e(P,{modelValue:i(s).param.status,"onUpdate:modelValue":a[6]||(a[6]=t=>i(s).param.status=t),class:"ml-2"},null,8,["modelValue"])]),_:1})]),_:1},8,["class"]),e(d,{span:8,class:h(p.value?"colBlock":"colNone")},{default:l(()=>[e(v,{label:"对接Token",prop:"token"},{default:l(()=>[e(_,{modelValue:i(s).param.token,"onUpdate:modelValue":a[7]||(a[7]=t=>i(s).param.token=t),placeholder:"请输入对接Token",clearable:"",onKeyup:x(m,["enter","native"])},null,8,["modelValue"])]),_:1})]),_:1},8,["class"]),e(d,{span:8,class:h(p.value?"colBlock":"colNone")},{default:l(()=>[e(v,{label:"创建时间",prop:"createdAt"},{default:l(()=>[e(ne,{clearable:"",style:{width:"200px"},modelValue:i(s).param.createdAt,"onUpdate:modelValue":a[8]||(a[8]=t=>i(s).param.createdAt=t),format:"YYYY-MM-DD HH:mm:ss","value-format":"YYYY-MM-DD HH:mm:ss",type:"datetime",placeholder:"选择创建时间"},null,8,["modelValue"])]),_:1})]),_:1},8,["class"]),e(d,{span:8,class:h(p.value?"colBlock":"colNone")},{default:l(()=>[e(v,null,{default:l(()=>[e(u,{type:"primary",onClick:m},{default:l(()=>[e(r,null,{default:l(()=>[e(z)]),_:1}),c("搜索")]),_:1}),e(u,{onClick:a[9]||(a[9]=t=>L(U.value))},{default:l(()=>[e(r,null,{default:l(()=>[e(H)]),_:1}),c("重置")]),_:1}),e(u,{type:"primary",link:"",onClick:M},{default:l(()=>[c(A(I.value)+" ",1),f(e(r,null,{default:l(()=>[e(q)]),_:1},512),[[D,p.value]]),f(e(r,null,{default:l(()=>[e(F)]),_:1},512),[[D,!p.value]])]),_:1})]),_:1})]),_:1},8,["class"])]),_:1})]),_:1},8,["model"]),e(O,{gutter:10,class:"mb8"},{default:l(()=>[e(d,{span:1.5},{default:l(()=>[f((b(),V(u,{type:"primary",onClick:le},{default:l(()=>[e(r,null,{default:l(()=>[e(se)]),_:1}),c("新增")]),_:1})),[[y,"api/v1/install/signPlatform/add"]])]),_:1}),e(d,{span:1.5},{default:l(()=>[f((b(),V(u,{type:"success",disabled:T.value,onClick:a[10]||(a[10]=t=>Y(null))},{default:l(()=>[e(r,null,{default:l(()=>[e(re)]),_:1}),c("修改")]),_:1},8,["disabled"])),[[y,"api/v1/install/signPlatform/edit"]])]),_:1}),e(d,{span:1.5},{default:l(()=>[f((b(),V(u,{type:"danger",disabled:$.value,onClick:a[11]||(a[11]=t=>K(null))},{default:l(()=>[e(r,null,{default:l(()=>[e(pe)]),_:1}),c("删除")]),_:1},8,["disabled"])),[[y,"api/v1/install/signPlatform/delete"]])]),_:1}),e(d,{span:1.5},{default:l(()=>[f((b(),V(u,{type:"warning",onClick:a[12]||(a[12]=t=>te())},{default:l(()=>[e(r,null,{default:l(()=>[e(de)]),_:1}),c("导出Excel")]),_:1})),[[y,"api/v1/install/signPlatform/export"]])]),_:1}),e(d,{span:1.5},{default:l(()=>[f((b(),V(u,{type:"success",onClick:a[13]||(a[13]=t=>oe())},{default:l(()=>[e(r,null,{default:l(()=>[e(me)]),_:1}),c("导入Excel")]),_:1})),[[y,"api/v1/install/signPlatform/import"]])]),_:1})]),_:1})]),f((b(),V(_e,{data:i(s).data,onSelectionChange:ee},{default:l(()=>[e(g,{type:"selection",width:"55",align:"center"}),e(g,{label:"ID",align:"center",prop:"id","min-width":"150px"}),e(g,{label:"平台名",align:"center",prop:"name","min-width":"150px"}),e(g,{label:"平台标识",align:"center",prop:"code","min-width":"150px"}),e(g,{label:"域名",align:"center",prop:"baseUrl","min-width":"150px"}),e(g,{label:"开启SSL",align:"center",prop:"openSsl","min-width":"150px"},{default:l(t=>[e(P,{"active-value":1,"inactive-value":0,modelValue:t.row.openSsl,"onUpdate:modelValue":S=>t.row.openSsl=S,class:"ml-2",onChange:S=>J(t.row)},null,8,["modelValue","onUpdate:modelValue","onChange"])]),_:1}),e(g,{label:"启用",align:"center",prop:"status","min-width":"150px"},{default:l(t=>[e(P,{"active-value":1,"inactive-value":0,modelValue:t.row.status,"onUpdate:modelValue":S=>t.row.status=S,class:"ml-2",onChange:S=>W(t.row)},null,8,["modelValue","onUpdate:modelValue","onChange"])]),_:1}),e(g,{label:"对接Token",align:"center",prop:"token","min-width":"150px"}),e(g,{label:"创建时间",align:"center",prop:"createdAt","min-width":"150px"},{default:l(t=>[G("span",null,A(i(E).parseTime(t.row.createdAt,"{y}-{m}-{d} {h}:{i}:{s}")),1)]),_:1}),e(g,{label:"操作",align:"center","class-name":"small-padding","min-width":"200px",fixed:"right"},{default:l(t=>[f((b(),V(u,{type:"primary",link:"",onClick:S=>ae(t.row)},{default:l(()=>[e(r,null,{default:l(()=>[e(ue)]),_:1}),c("详情")]),_:2},1032,["onClick"])),[[y,"api/v1/install/signPlatform/get"]]),f((b(),V(u,{type:"primary",link:"",onClick:S=>Y(t.row)},{default:l(()=>[e(r,null,{default:l(()=>[e(ce)]),_:1}),c("修改")]),_:2},1032,["onClick"])),[[y,"api/v1/install/signPlatform/edit"]]),f((b(),V(u,{type:"primary",link:"",onClick:S=>K(t.row)},{default:l(()=>[e(r,null,{default:l(()=>[e(fe)]),_:1}),c("删除")]),_:2},1032,["onClick"])),[[y,"api/v1/install/signPlatform/delete"]])]),_:1})]),_:1},8,["data"])),[[be,C.value]]),f(e(ve,{total:i(s).total,page:i(s).param.pageNum,"onUpdate:page":a[14]||(a[14]=t=>i(s).param.pageNum=t),limit:i(s).param.pageSize,"onUpdate:limit":a[15]||(a[15]=t=>i(s).param.pageSize=t),onPagination:m},null,8,["total","page","limit"]),[[D,i(s).total>0]])]),_:1}),e(Be,{ref_key:"editRef",ref:B,onSignPlatformList:m},null,512),e(Ae,{ref_key:"detailRef",ref:N,onSignPlatformList:m},null,512),e(Ee,{ref_key:"loadExcelSignPlatformRef",ref:R,onGetList:m,upUrl:"api/v1/install/signPlatform/import",tplUrl:"/api/v1/install/signPlatform/excelTemplate"},null,512)])}}}),Nl=Te(Le,[["__scopeId","data-v-b315b543"]]);export{Nl as default};
