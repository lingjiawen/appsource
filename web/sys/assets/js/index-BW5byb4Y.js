import{_ as $,g as A,d as L}from"./editDept.vue_vue_type_style_index_0_lang-B4Sl0VY-.js";import{E as M,a as R}from"./element-plus-BcbsnzDt.js";import{d as S,b as O,Z as U,_ as F,j,o as f,c as Z,U as e,O as t,ai as o,i as q,a as G,u as i,S as p,M as D}from"./@vue-CIdpUgdv.js";import"./index-Cf93PWEY.js";import"./pinia-DE-bJcb2.js";import"./vue-demi-Dq6ymT-8.js";import"./vue-router-CWOL7ATe.js";import"./js-cookie-Cz0CWeBA.js";import"./@element-plus-jSNvwxF2.js";import"./nprogress-ekFNJb3B.js";import"./@intlify-BrbEMGpa.js";import"./axios-CdtiCRuU.js";import"./qs-Cbync0Ql.js";import"./side-channel-Bxu5bNZA.js";import"./get-intrinsic-BKEvijrG.js";import"./es-errors-DzOT6E3C.js";import"./has-symbols-eVqrYdw7.js";import"./has-proto-JnoBQRdH.js";import"./function-bind-BbkWVFrm.js";import"./hasown-DYqjtFKE.js";import"./call-bind-Bt3bzbWQ.js";import"./set-function-length-B5OANX0j.js";import"./define-data-property-DO9o5wXF.js";import"./es-define-property-tzmkNPou.js";import"./gopd-CEkvUycD.js";import"./has-property-descriptors-DphFXkuo.js";import"./object-inspect-C4zVfScY.js";import"./vue-i18n-C6ZazF2L.js";import"./vue-BUaMJYO7.js";import"./vue-clipboard3-B4JKg9Nx.js";import"./clipboard-UlwKUFeW.js";import"./mitt-DJ65BbbF.js";import"./vue-grid-layout-CBs1MJUm.js";import"./vue-simple-uploader-DfJosV98.js";import"./vue-ueditor-wrap-DRzi_KnA.js";import"./lodash-es-1chB_st9.js";import"./@vueuse-Dw_h8qVP.js";import"./@popperjs-D9SI2xQl.js";import"./@ctrl-r5W6hzzQ.js";import"./dayjs-BB1_x23Y.js";import"./async-validator-DKvM95Vc.js";import"./memoize-one-BdPwpGay.js";import"./normalize-wheel-es-B6fDCfyv.js";import"./@floating-ui-DSOXY3Ah.js";import"./index-CbMIc7j8.js";import"./index-Bt4iVw3F.js";const H={class:"system-dept-container"},J={class:"system-dept-search mb15"},Fe=S({name:"systemDept",__name:"index",setup(K){const{proxy:k}=q(),c=O(),_=U({tableData:{data:[],loading:!1,param:{pageNum:1,pageSize:10,deptName:"",status:""}}}),{tableData:n}=F(_),x=()=>{m()},m=()=>{A(_.tableData.param).then(a=>{_.tableData.data=k.handleTree(a.data.deptList??[],"deptId","parentId","children",!0)})},h=a=>{c.value.openDialog(a==null?void 0:a.deptId)},C=a=>{c.value.openDialog(a)},g=a=>{M.confirm(`此操作将永久删除部门：${a.deptName}, 是否继续?`,"提示",{confirmButtonText:"删除",cancelButtonText:"取消",type:"warning"}).then(()=>{L(a.deptId).then(()=>{R.success("删除成功"),m()})}).catch(()=>{})};return j(()=>{x()}),(a,d)=>{const N=o("el-input"),u=o("el-form-item"),b=o("el-option"),V=o("el-select"),B=o("ele-Search"),y=o("el-icon"),r=o("el-button"),z=o("ele-FolderAdd"),I=o("el-form"),s=o("el-table-column"),w=o("el-tag"),T=o("el-table"),E=o("el-card");return f(),Z("div",H,[e(E,{shadow:"hover"},{default:t(()=>[G("div",J,[e(I,{inline:!0},{default:t(()=>[e(u,{label:"部门名称"},{default:t(()=>[e(N,{modelValue:i(n).param.deptName,"onUpdate:modelValue":d[0]||(d[0]=l=>i(n).param.deptName=l),placeholder:"请输入部门名称",class:"w-50 m-2",clearable:""},null,8,["modelValue"])]),_:1}),e(u,{label:"状态"},{default:t(()=>[e(V,{placeholder:"请选择状态",class:"w-50 m-2",modelValue:i(n).param.status,"onUpdate:modelValue":d[1]||(d[1]=l=>i(n).param.status=l),clearable:"",style:{width:"120px"}},{default:t(()=>[e(b,{label:"启用",value:"1"}),e(b,{label:"禁用",value:"0"})]),_:1},8,["modelValue"])]),_:1}),e(u,null,{default:t(()=>[e(r,{size:"default",type:"primary",class:"ml10",onClick:m},{default:t(()=>[e(y,null,{default:t(()=>[e(B)]),_:1}),p(" 查询 ")]),_:1}),e(r,{size:"default",type:"success",class:"ml10",onClick:h},{default:t(()=>[e(y,null,{default:t(()=>[e(z)]),_:1}),p(" 新增部门 ")]),_:1})]),_:1})]),_:1})]),e(T,{data:i(n).data,style:{width:"100%"},"row-key":"deptId","default-expand-all":"","tree-props":{children:"children",hasChildren:"hasChildren"}},{default:t(()=>[e(s,{prop:"deptName",label:"部门名称","show-overflow-tooltip":""}),e(s,{prop:"status",label:"部门状态","show-overflow-tooltip":""},{default:t(l=>[l.row.status===1?(f(),D(w,{key:0,type:"success"},{default:t(()=>[p("启用")]),_:1})):(f(),D(w,{key:1,type:"info"},{default:t(()=>[p("禁用")]),_:1}))]),_:1}),e(s,{prop:"orderNum",label:"排序","show-overflow-tooltip":""}),e(s,{prop:"createdAt",label:"创建时间","show-overflow-tooltip":""}),e(s,{label:"操作",width:"200"},{default:t(l=>[e(r,{size:"small",text:"",type:"primary",onClick:v=>h(l.row)},{default:t(()=>[p("新增")]),_:2},1032,["onClick"]),e(r,{size:"small",text:"",type:"primary",onClick:v=>C(l.row)},{default:t(()=>[p("修改")]),_:2},1032,["onClick"]),e(r,{size:"small",text:"",type:"primary",onClick:v=>g(l.row)},{default:t(()=>[p("删除")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"])]),_:1}),e($,{ref_key:"editDeptRef",ref:c,onDeptList:m},null,512)])}}});export{Fe as default};
