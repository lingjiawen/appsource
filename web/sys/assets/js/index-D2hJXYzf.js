import{d as M,b as v,Z as T,_ as $,j as O,o as g,c as F,U as t,O as e,ai as l,a as I,u as p,S as m,M as C,P as j,V as G,ae as Z}from"./@vue-CIdpUgdv.js";import{E as q,g as H,d as J}from"./editPost-bsDf1AGW.js";import{a as k,E as K}from"./element-plus-BcbsnzDt.js";import"./index-Cf93PWEY.js";import"./pinia-DE-bJcb2.js";import"./vue-demi-Dq6ymT-8.js";import"./vue-router-CWOL7ATe.js";import"./js-cookie-Cz0CWeBA.js";import"./@element-plus-jSNvwxF2.js";import"./nprogress-ekFNJb3B.js";import"./@intlify-BrbEMGpa.js";import"./axios-CdtiCRuU.js";import"./qs-Cbync0Ql.js";import"./side-channel-Bxu5bNZA.js";import"./get-intrinsic-BKEvijrG.js";import"./es-errors-DzOT6E3C.js";import"./has-symbols-eVqrYdw7.js";import"./has-proto-JnoBQRdH.js";import"./function-bind-BbkWVFrm.js";import"./hasown-DYqjtFKE.js";import"./call-bind-Bt3bzbWQ.js";import"./set-function-length-B5OANX0j.js";import"./define-data-property-DO9o5wXF.js";import"./es-define-property-tzmkNPou.js";import"./gopd-CEkvUycD.js";import"./has-property-descriptors-DphFXkuo.js";import"./object-inspect-C4zVfScY.js";import"./vue-i18n-C6ZazF2L.js";import"./vue-BUaMJYO7.js";import"./vue-clipboard3-B4JKg9Nx.js";import"./clipboard-UlwKUFeW.js";import"./mitt-DJ65BbbF.js";import"./vue-grid-layout-CBs1MJUm.js";import"./vue-simple-uploader-DfJosV98.js";import"./vue-ueditor-wrap-DRzi_KnA.js";import"./lodash-es-1chB_st9.js";import"./@vueuse-Dw_h8qVP.js";import"./@popperjs-D9SI2xQl.js";import"./@ctrl-r5W6hzzQ.js";import"./dayjs-BB1_x23Y.js";import"./async-validator-DKvM95Vc.js";import"./memoize-one-BdPwpGay.js";import"./normalize-wheel-es-B6fDCfyv.js";import"./@floating-ui-DSOXY3Ah.js";const Q={class:"system-post-container"},W={class:"system-user-search mb15"},jt=M({name:"apiV1SystemPostList",__name:"index",setup(X){v();const f=v(),d=T({ids:[],tableData:{data:[],total:0,loading:!1,param:{postName:"",status:"",postCode:"",pageNum:1,pageSize:10}}}),{tableData:s}=$(d),V=()=>{c()},c=()=>{H(d.tableData.param).then(n=>{d.tableData.data=n.data.postList??[],d.tableData.total=n.data.total})},x=()=>{f.value.openDialog()},D=n=>{f.value.openDialog(Z(n))},w=n=>{let o="你确定要删除所选岗位？",r=[];if(n?(o=`此操作将永久删除岗位：“${n.postName}”，是否继续?`,r=[n.postId]):r=d.ids,r.length===0){k.error("请选择要删除的数据。");return}K.confirm(o,"提示",{confirmButtonText:"确认",cancelButtonText:"取消",type:"warning"}).then(()=>{J(r).then(()=>{k.success("删除成功"),c()})}).catch(()=>{})};O(()=>{V()});const N=n=>{d.ids=n.map(o=>o.postId)};return(n,o)=>{const r=l("el-input"),_=l("el-form-item"),h=l("el-option"),P=l("el-select"),S=l("ele-Search"),b=l("el-icon"),u=l("el-button"),z=l("ele-FolderAdd"),B=l("ele-Delete"),E=l("el-form"),i=l("el-table-column"),y=l("el-tag"),U=l("el-table"),L=l("pagination"),R=l("el-card");return g(),F("div",Q,[t(R,{shadow:"hover"},{default:e(()=>[I("div",W,[t(E,{inline:!0},{default:e(()=>[t(_,{label:"岗位名称"},{default:e(()=>[t(r,{modelValue:p(s).param.postName,"onUpdate:modelValue":o[0]||(o[0]=a=>p(s).param.postName=a),placeholder:"请输入岗位名称",class:"w-50 m-2",clearable:""},null,8,["modelValue"])]),_:1}),t(_,{label:"岗位编码"},{default:e(()=>[t(r,{modelValue:p(s).param.postCode,"onUpdate:modelValue":o[1]||(o[1]=a=>p(s).param.postCode=a),placeholder:"请输入岗位编码",class:"w-50 m-2",clearable:""},null,8,["modelValue"])]),_:1}),t(_,{label:"状态"},{default:e(()=>[t(P,{placeholder:"请选择状态",class:"w-50 m-2",modelValue:p(s).param.status,"onUpdate:modelValue":o[2]||(o[2]=a=>p(s).param.status=a),clearable:"",style:{width:"120px"}},{default:e(()=>[t(h,{label:"启用",value:"1"}),t(h,{label:"禁用",value:"0"})]),_:1},8,["modelValue"])]),_:1}),t(_,null,{default:e(()=>[t(u,{size:"default",type:"primary",class:"ml10",onClick:c},{default:e(()=>[t(b,null,{default:e(()=>[t(S)]),_:1}),m(" 查询 ")]),_:1}),t(u,{size:"default",type:"success",class:"ml10",onClick:x},{default:e(()=>[t(b,null,{default:e(()=>[t(z)]),_:1}),m(" 新增岗位 ")]),_:1}),t(u,{size:"default",type:"danger",class:"ml10",onClick:o[3]||(o[3]=a=>w(null))},{default:e(()=>[t(b,null,{default:e(()=>[t(B)]),_:1}),m(" 删除岗位 ")]),_:1})]),_:1})]),_:1})]),t(U,{data:p(s).data,style:{width:"100%"},onSelectionChange:N},{default:e(()=>[t(i,{type:"selection",width:"55",align:"center"}),t(i,{type:"index",label:"序号",width:"60"}),t(i,{prop:"postCode",label:"岗位编码","show-overflow-tooltip":""}),t(i,{prop:"postName",label:"岗位名称","show-overflow-tooltip":""}),t(i,{prop:"postSort",label:"排序","show-overflow-tooltip":""}),t(i,{prop:"status",label:"岗位状态","show-overflow-tooltip":""},{default:e(a=>[a.row.status===1?(g(),C(y,{key:0,type:"success"},{default:e(()=>[m("启用")]),_:1})):(g(),C(y,{key:1,type:"info"},{default:e(()=>[m("禁用")]),_:1}))]),_:1}),t(i,{prop:"remark",label:"岗位描述","show-overflow-tooltip":""}),t(i,{prop:"createdAt",label:"创建时间","show-overflow-tooltip":""}),t(i,{label:"操作",width:"200"},{default:e(a=>[t(u,{size:"small",text:"",type:"primary",onClick:A=>D(a.row)},{default:e(()=>[m("修改")]),_:2},1032,["onClick"]),t(u,{size:"small",text:"",type:"primary",onClick:A=>w(a.row)},{default:e(()=>[m("删除")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"]),j(t(L,{total:p(s).total,page:p(s).param.pageNum,"onUpdate:page":o[4]||(o[4]=a=>p(s).param.pageNum=a),limit:p(s).param.pageSize,"onUpdate:limit":o[5]||(o[5]=a=>p(s).param.pageSize=a),onPagination:c},null,8,["total","page","limit"]),[[G,p(s).total>0]])]),_:1}),t(q,{ref_key:"editPostRef",ref:f,onGetPostList:c},null,512)])}}});export{jt as default};
