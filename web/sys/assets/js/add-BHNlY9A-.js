import{a as N}from"./signRedeemCode-B5rpnkPq.js";import{a as E}from"./element-plus-BcbsnzDt.js";import{d as M,b as D,Z,_ as j,o as p,c as n,U as t,O as o,u as a,D as z,ai as m,aq as G,P as H,S as u,T as s,a as J,F as _,a8 as c,M as V}from"./@vue-CIdpUgdv.js";import{a as K}from"./index-Cf93PWEY.js";import"./lodash-es-1chB_st9.js";import"./@vueuse-Dw_h8qVP.js";import"./@element-plus-jSNvwxF2.js";import"./@popperjs-D9SI2xQl.js";import"./@ctrl-r5W6hzzQ.js";import"./dayjs-BB1_x23Y.js";import"./@intlify-BrbEMGpa.js";import"./async-validator-DKvM95Vc.js";import"./memoize-one-BdPwpGay.js";import"./normalize-wheel-es-B6fDCfyv.js";import"./@floating-ui-DSOXY3Ah.js";import"./pinia-DE-bJcb2.js";import"./vue-demi-Dq6ymT-8.js";import"./vue-router-CWOL7ATe.js";import"./js-cookie-Cz0CWeBA.js";import"./nprogress-ekFNJb3B.js";import"./axios-CdtiCRuU.js";import"./qs-Cbync0Ql.js";import"./side-channel-Bxu5bNZA.js";import"./get-intrinsic-BKEvijrG.js";import"./es-errors-DzOT6E3C.js";import"./has-symbols-eVqrYdw7.js";import"./has-proto-JnoBQRdH.js";import"./function-bind-BbkWVFrm.js";import"./hasown-DYqjtFKE.js";import"./call-bind-Bt3bzbWQ.js";import"./set-function-length-B5OANX0j.js";import"./define-data-property-DO9o5wXF.js";import"./es-define-property-tzmkNPou.js";import"./gopd-CEkvUycD.js";import"./has-property-descriptors-DphFXkuo.js";import"./object-inspect-C4zVfScY.js";import"./vue-i18n-C6ZazF2L.js";import"./vue-BUaMJYO7.js";import"./vue-clipboard3-B4JKg9Nx.js";import"./clipboard-UlwKUFeW.js";import"./mitt-DJ65BbbF.js";import"./vue-grid-layout-CBs1MJUm.js";import"./vue-simple-uploader-DfJosV98.js";import"./vue-ueditor-wrap-DRzi_KnA.js";const Q={class:"appsource-asRedeemCode-add"},X={class:"dialog-footer"},Y=M({name:"ApiV1SignRedeemCodeAdd",__name:"add",props:{accountTypeOptions:{type:Array,default:()=>[]},warrantyTypeOptions:{type:Array,default:()=>[]},deviceTypeOptions:{type:Array,default:()=>[]},poolOptions:{type:Array,default:()=>[]},apiPlatformOptions:{type:Array,default:()=>[]}},emits:["signRedeemCodeList"],setup(f,{expose:O,emit:R}){const U=R,k=D(null);D();const T=D(null),i=Z({loading:!1,isShowDialog:!1,formData:{id:void 0,quantity:void 0,prefix:void 0,accountType:void 0,warrantyType:void 0,deviceType:void 0,pool:void 0,apiPlatform:void 0,apiWarrantyType:void 0,note:void 0}}),{loading:S,isShowDialog:g,formData:r,rules:A}=j(i),q=()=>{B(),i.isShowDialog=!0,setTimeout(()=>{T.value&&T.value.focus()},100)},x=()=>{i.isShowDialog=!1};O({openDialog:q});const P=()=>{x()},W=()=>{const b=a(k);b&&b.validate(l=>{l&&(i.loading=!0,(!i.formData.id||i.formData.id===0)&&N(i.formData).then(()=>{E.success("添加成功"),x(),U("signRedeemCodeList")}).finally(()=>{i.loading=!1}))})},B=()=>{i.formData={id:void 0,quantity:1,prefix:"",accountType:"0",warrantyType:"0",deviceType:"iphone",pool:"2",apiPlatform:"1",apiWarrantyType:"0",note:""}};return(b,l)=>{const w=m("el-input"),d=m("el-form-item"),y=m("el-radio"),v=m("el-radio-group"),I=m("el-form"),C=m("el-button"),F=m("el-dialog"),L=G("drag");return p(),n("div",Q,[t(F,{modelValue:a(g),"onUpdate:modelValue":l[9]||(l[9]=e=>z(g)?g.value=e:null),width:"800px","close-on-click-modal":!1,"destroy-on-close":!0},{header:o(()=>[H((p(),n("div",null,[u(s((!a(r).id||a(r).id==0?"添加":"修改")+"卡密管理"),1)])),[[L,[".appsource-asRedeemCode-add .el-dialog",".appsource-asRedeemCode-add .el-dialog__header"]]])]),footer:o(()=>[J("div",X,[t(C,{type:"primary",onClick:W,disabled:a(S)},{default:o(()=>[u("确 定")]),_:1},8,["disabled"]),t(C,{onClick:P},{default:o(()=>[u("取 消")]),_:1})])]),default:o(()=>[t(I,{ref_key:"formRef",ref:k,model:a(r),rules:a(A),"label-width":"120px"},{default:o(()=>[t(d,{label:"兑换码前缀",prop:"prefix"},{default:o(()=>[t(w,{modelValue:a(r).prefix,"onUpdate:modelValue":l[0]||(l[0]=e=>a(r).prefix=e),placeholder:"兑换码前缀"},null,8,["modelValue"])]),_:1}),t(d,{label:"生成数量",prop:"quantity"},{default:o(()=>[t(w,{ref_key:"quantityInput",ref:T,modelValue:a(r).quantity,"onUpdate:modelValue":l[1]||(l[1]=e=>a(r).quantity=e),placeholder:"生成数量"},null,8,["modelValue"])]),_:1}),t(d,{label:"时效类型",prop:"accountType"},{default:o(()=>[t(v,{modelValue:a(r).accountType,"onUpdate:modelValue":l[2]||(l[2]=e=>a(r).accountType=e)},{default:o(()=>[(p(!0),n(_,null,c(f.accountTypeOptions,e=>(p(),V(y,{key:e.value,value:e.value},{default:o(()=>[u(s(e.label),1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"])]),_:1}),t(d,{label:"售后类型",prop:"warrantyType"},{default:o(()=>[t(v,{modelValue:a(r).warrantyType,"onUpdate:modelValue":l[3]||(l[3]=e=>a(r).warrantyType=e)},{default:o(()=>[(p(!0),n(_,null,c(f.warrantyTypeOptions,e=>(p(),V(y,{key:e.value,value:e.value},{default:o(()=>[u(s(e.label),1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"])]),_:1}),t(d,{label:"设备类型",prop:"deviceType"},{default:o(()=>[t(v,{modelValue:a(r).deviceType,"onUpdate:modelValue":l[4]||(l[4]=e=>a(r).deviceType=e)},{default:o(()=>[(p(!0),n(_,null,c(f.deviceTypeOptions,e=>(p(),V(y,{key:e.value,value:e.value},{default:o(()=>[u(s(e.label),1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"])]),_:1}),t(d,{label:"出书方式",prop:"pool"},{default:o(()=>[t(v,{modelValue:a(r).pool,"onUpdate:modelValue":l[5]||(l[5]=e=>a(r).pool=e)},{default:o(()=>[(p(!0),n(_,null,c(f.poolOptions,e=>(p(),V(y,{key:e.value,value:e.value},{default:o(()=>[u(s(e.label),1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"])]),_:1}),t(d,{label:"对接平台",prop:"apiPlatform"},{default:o(()=>[t(v,{modelValue:a(r).apiPlatform,"onUpdate:modelValue":l[6]||(l[6]=e=>a(r).apiPlatform=e)},{default:o(()=>[(p(!0),n(_,null,c(f.apiPlatformOptions,e=>(p(),V(y,{key:e.value,value:e.value},{default:o(()=>[u(s(e.label),1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"])]),_:1}),t(d,{label:"对接质保",prop:"apiWarrantyType"},{default:o(()=>[t(v,{modelValue:a(r).apiWarrantyType,"onUpdate:modelValue":l[7]||(l[7]=e=>a(r).apiWarrantyType=e)},{default:o(()=>[(p(!0),n(_,null,c(f.warrantyTypeOptions,e=>(p(),V(y,{key:e.value,value:e.value},{default:o(()=>[u(s(e.label),1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"])]),_:1}),t(d,{label:"备注",prop:"note"},{default:o(()=>[t(w,{modelValue:a(r).note,"onUpdate:modelValue":l[8]||(l[8]=e=>a(r).note=e),type:"textarea",placeholder:"请输入备注"},null,8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])]),_:1},8,["modelValue"])])}}}),Ze=K(Y,[["__scopeId","data-v-6361a213"]]);export{Ze as default};
