import{c as M}from"./index-BXP_iOH9.js";import{T as H}from"./vue-codemirror-DChsNhsl.js";import{U,X as $}from"./@codemirror-ByA0xLDA.js";import{d as b,b as V,s as L,k as T,ai as c,o as u,M as C,J as z,Z as D,_ as P,j as S,E as j,c as w,U as _,O as p,u as m,D as y,a as h,T as F,F as I,a8 as J}from"./@vue-CIdpUgdv.js";import{a as x}from"./index-Cf93PWEY.js";import{d as O}from"./element-plus-BcbsnzDt.js";import"./codemirror-DN_Ab9GT.js";import"./@lezer-B6VmUzQh.js";import"./pinia-DE-bJcb2.js";import"./vue-demi-Dq6ymT-8.js";import"./vue-router-CWOL7ATe.js";import"./js-cookie-Cz0CWeBA.js";import"./@element-plus-jSNvwxF2.js";import"./nprogress-ekFNJb3B.js";import"./@intlify-BrbEMGpa.js";import"./axios-CdtiCRuU.js";import"./qs-Cbync0Ql.js";import"./side-channel-Bxu5bNZA.js";import"./get-intrinsic-BKEvijrG.js";import"./es-errors-DzOT6E3C.js";import"./has-symbols-eVqrYdw7.js";import"./has-proto-JnoBQRdH.js";import"./function-bind-BbkWVFrm.js";import"./hasown-DYqjtFKE.js";import"./call-bind-Bt3bzbWQ.js";import"./set-function-length-B5OANX0j.js";import"./define-data-property-DO9o5wXF.js";import"./es-define-property-tzmkNPou.js";import"./gopd-CEkvUycD.js";import"./has-property-descriptors-DphFXkuo.js";import"./object-inspect-C4zVfScY.js";import"./vue-i18n-C6ZazF2L.js";import"./vue-BUaMJYO7.js";import"./vue-clipboard3-B4JKg9Nx.js";import"./clipboard-UlwKUFeW.js";import"./mitt-DJ65BbbF.js";import"./vue-grid-layout-CBs1MJUm.js";import"./vue-simple-uploader-DfJosV98.js";import"./vue-ueditor-wrap-DRzi_KnA.js";import"./lodash-es-1chB_st9.js";import"./@vueuse-Dw_h8qVP.js";import"./@popperjs-D9SI2xQl.js";import"./@ctrl-r5W6hzzQ.js";import"./dayjs-BB1_x23Y.js";import"./async-validator-DKvM95Vc.js";import"./memoize-one-BdPwpGay.js";import"./normalize-wheel-es-B6fDCfyv.js";import"./@floating-ui-DSOXY3Ah.js";const W=b({name:"myCodeMirror",components:{Codemirror:H},props:{modelValue:{type:String,default:"console.log('Hello, world!')"},height:{type:Number,default:400}},setup(e){const o=V(""),a=[U(),$],r=L(),d=n=>{o.value=e.modelValue,r.value=n.view},i=T(()=>e.height);return{code:o,extensions:a,handleReady:d,editHeight:i}}});function X(e,o,a,r,d,i){const n=c("codemirror");return u(),C(n,{modelValue:e.code,"onUpdate:modelValue":o[0]||(o[0]=s=>e.code=s),placeholder:"Code goes here...",style:z({height:e.editHeight+"px"}),autofocus:!0,"indent-with-tab":!0,"tab-size":2,extensions:e.extensions,onReady:e.handleReady},null,8,["modelValue","style","extensions","onReady"])}const Z=x(W,[["render",X]]),q={class:"gen-viewer-container"},A={class:"custom-dialog-title"},G={class:"title-content"},K={class:"gen-viewer"},Q=b({name:"genCodePreview",__name:"preview",setup(e,{expose:o}){const a=V(400),r=D({flush:!0,fullscreen:!1,open:!1,title:"代码预览",data:{},activeName:"api"}),{data:d,activeName:i,fullscreen:n,open:s,title:B}=P(r),N=()=>{a.value=document.getElementsByTagName("body")[0].clientHeight-130},R=v=>{const t=O.service({lock:!0,text:"Loading",background:"rgba(0, 0, 0, 0.7)"});M(v).then(f=>{r.data=f.data.data??{},r.open=!0,t.close()}).catch(()=>{t.close()})};return S(()=>{a.value=document.getElementsByTagName("body")[0].clientHeight-130}),j(()=>{window.addEventListener("resize",N)}),o({showView:R}),(v,t)=>{const f=c("el-tab-pane"),k=c("el-tabs"),E=c("el-dialog");return u(),w("div",q,[_(E,{fullscreen:m(n),modelValue:m(s),"onUpdate:modelValue":t[1]||(t[1]=l=>y(s)?s.value=l:null),width:"80%","close-on-click-modal":!1,"destroy-on-close":!0},{header:p(()=>[h("div",A,[h("div",G,F(m(B)),1)])]),default:p(()=>[_(k,{modelValue:m(i),"onUpdate:modelValue":t[0]||(t[0]=l=>y(i)?i.value=l:null)},{default:p(()=>[(u(!0),w(I,null,J(m(d),(l,g)=>(u(),C(f,{label:g,name:g,key:g},{default:p(()=>[h("div",K,[_(Z,{height:a.value,"model-value":l},null,8,["height","model-value"])])]),_:2},1032,["label","name"]))),128))]),_:1},8,["modelValue"])]),_:1},8,["fullscreen","modelValue"])])}}}),Ze=x(Q,[["__scopeId","data-v-a9f52f02"]]);export{Ze as default};
