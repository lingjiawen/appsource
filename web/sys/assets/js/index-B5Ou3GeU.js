import{Q as g}from"./echarts-CwA8CIbg.js";import"./echarts-wordcloud-c-Bpeng1.js";import{s as C,a as I}from"./index-Cf93PWEY.js";import{d as S,Z as D,j as B,_ as w,i as A,o as y,c as F,U as d,O as n,ai as b,a as t,T as e,F as E,a8 as U,bl as O,bj as k}from"./@vue-CIdpUgdv.js";import"./zrender-JgsgmSHm.js";import"./tslib-BDyQ-Jie.js";import"./pinia-DE-bJcb2.js";import"./vue-demi-Dq6ymT-8.js";import"./vue-router-CWOL7ATe.js";import"./js-cookie-Cz0CWeBA.js";import"./@element-plus-jSNvwxF2.js";import"./nprogress-ekFNJb3B.js";import"./@intlify-BrbEMGpa.js";import"./axios-CdtiCRuU.js";import"./qs-Cbync0Ql.js";import"./side-channel-Bxu5bNZA.js";import"./get-intrinsic-BKEvijrG.js";import"./es-errors-DzOT6E3C.js";import"./has-symbols-eVqrYdw7.js";import"./has-proto-JnoBQRdH.js";import"./function-bind-BbkWVFrm.js";import"./hasown-DYqjtFKE.js";import"./call-bind-Bt3bzbWQ.js";import"./set-function-length-B5OANX0j.js";import"./define-data-property-DO9o5wXF.js";import"./es-define-property-tzmkNPou.js";import"./gopd-CEkvUycD.js";import"./has-property-descriptors-DphFXkuo.js";import"./object-inspect-C4zVfScY.js";import"./element-plus-BcbsnzDt.js";import"./lodash-es-1chB_st9.js";import"./@vueuse-Dw_h8qVP.js";import"./@popperjs-D9SI2xQl.js";import"./@ctrl-r5W6hzzQ.js";import"./dayjs-BB1_x23Y.js";import"./async-validator-DKvM95Vc.js";import"./memoize-one-BdPwpGay.js";import"./normalize-wheel-es-B6fDCfyv.js";import"./@floating-ui-DSOXY3Ah.js";import"./vue-i18n-C6ZazF2L.js";import"./vue-BUaMJYO7.js";import"./vue-clipboard3-B4JKg9Nx.js";import"./clipboard-UlwKUFeW.js";import"./mitt-DJ65BbbF.js";import"./vue-grid-layout-CBs1MJUm.js";import"./vue-simple-uploader-DfJosV98.js";import"./vue-ueditor-wrap-DRzi_KnA.js";function z(){return C({url:"/api/v1/system/monitor/server",method:"get"})}let _=null;const R=S({name:"monitor",components:{},setup(){const{proxy:s}=A(),i=D({myCharts:[],sysInfo:{}});let l,c;function p(a){l.setOption({series:[{data:[{value:a,name:"CPU使用率"}]}]})}function h(a){c.setOption({series:[{data:[{value:a,name:"内存使用率"}]}]})}const u=()=>{l=g(s.$refs.chartsWarningRef1);const a={tooltip:{formatter:"{a} <br/>{b} : {c}%"},series:[{type:"gauge",name:"CPU",radius:"80%",title:{show:!0,fontSize:14,offsetCenter:[0,"40%"]},axisLine:{show:!0,lineStyle:{color:[[.3,"#4dabf7"],[.6,"#69db7c"],[.8,"#ffa94d"],[1,"#ff6b6b"]]}},detail:{valueAnimation:!0,formatter:"{value}%",fontSize:36,color:"red",offsetCenter:["0","80%"]}}]};l.setOption(a),i.myCharts.push(l)},r=()=>{c=g(s.$refs.chartsWarningRef2);const a={tooltip:{formatter:"{a} <br/>{b} : {c}%"},series:[{type:"gauge",name:"内存",radius:"80%",title:{show:!0,fontSize:14,offsetCenter:[0,"40%"]},axisLine:{show:!0,lineStyle:{color:[[.3,"#4dabf7"],[.6,"#69db7c"],[.8,"#ffa94d"],[1,"#ff6b6b"]]}},detail:{valueAnimation:!0,formatter:"{value}%",fontSize:36,color:"red",offsetCenter:["0","80%"]}}]};c.setOption(a),i.myCharts.push(c)};B(()=>{u(),r()});function m(){z().then(a=>{const{code:f,data:v}=a;f===0&&(i.sysInfo=v,p(v.cpuUsed),h(v.memUsage))})}return{...w(i),getSystemInfo:m,setOptChart1:p,setOptChart2:h}},created(){this.getSystemInfo(),_===null&&(_=setInterval(()=>{this.getSystemInfo()},5e3))},unmounted(){_!==null&&(clearInterval(_),_=null)},data(){return{}},methods:{memorySizeFormat(s){s=parseFloat(s);let i=0,l="Bytes";for(;s>1024&&l!="TB";)s=s/1024,i++,i==1?l="KB":i==2?l="MB":i==3?l="GB":i==4&&(l="TB");return s.toFixed(2)+" "+l},timeFormat(s){s=parseFloat(s);let i=0,l="秒";for(;s>60&&l!="小时"&&l!="天"||s>24&&l=="小时";)l=="小时"?s=s/24:s=s/60,i++,i==1?l="分":i==2?l="小时":i==3&&(l="天");return s.toFixed(2)+" "+l}}}),o=s=>(O("data-v-7917fc25"),s=s(),k(),s),L={class:"system-user-container"},P=o(()=>t("div",{class:"card-header"},[t("span",null,"运行资源")],-1)),T={class:"el-table--enable-row-hover el-table--medium"},$={cellspacing:"0",style:{width:"100%"}},N=o(()=>t("td",null,[t("div",{class:"cell"},"操作系统:")],-1)),W={class:"cell"},G=o(()=>t("td",null,[t("div",{class:"cell"},"系统架构:")],-1)),M={class:"cell"},V=o(()=>t("td",null,[t("div",{class:"cell"},"服务器名称:")],-1)),j={class:"cell"},K=o(()=>t("td",null,[t("div",{class:"cell"},"服务器IP:")],-1)),Q={class:"cell"},Z=o(()=>t("td",null,[t("div",{class:"cell"},"Go语言版本")],-1)),q={class:"cell"},x=o(()=>t("td",null,[t("div",{class:"cell"},"启动时间")],-1)),H={class:"cell"},J=o(()=>t("td",null,[t("div",{class:"cell"},"运行时长:")],-1)),X={class:"cell"},Y=o(()=>t("div",{class:"card-header"},[t("span",null,"硬盘资源")],-1)),tt={class:"el-table--enable-row-hover el-table--medium"},st={cellspacing:"0",style:{width:"100%"}},lt=o(()=>t("tr",null,[t("td",null,[t("div",{class:"cell"},"盘符路径")]),t("td",null,[t("div",{class:"cell"},"文件系统")]),t("td",null,[t("div",{class:"cell"},"总大小")]),t("td",null,[t("div",{class:"cell"},"可用大小")]),t("td",null,[t("div",{class:"cell"},"已用大小")]),t("td",null,[t("div",{class:"cell"},"已用百分比")])],-1)),et={class:"cell"},ot={class:"cell"},nt={class:"cell"},it={class:"cell"},at={class:"cell"},dt={class:"cell"},rt=o(()=>t("div",{class:"card-header"},[t("span",null,"CPU")],-1)),ut={class:"el-table--enable-row-hover el-table--medium"},ct={cellspacing:"0",style:{width:"100%"}},mt=o(()=>t("td",null,[t("div",{class:"cell"},"核心数:")],-1)),_t={class:"cell"},pt=o(()=>t("td",null,[t("div",{class:"cell"},"使用率:")],-1)),ht={class:"cell"},ft=o(()=>t("td",null,[t("div",{class:"cell"},"Load Avg 5:")],-1)),vt={class:"cell"},yt=o(()=>t("td",null,[t("div",{class:"cell"},"Load Avg 15:")],-1)),Ft={class:"cell"},bt={style:{"min-height":"280px"},ref:"chartsWarningRef1"},gt=o(()=>t("div",{class:"card-header"},[t("span",null,"内存")],-1)),Ct={class:"el-table--enable-row-hover el-table--medium"},It={cellspacing:"0",style:{width:"100%"}},St=o(()=>t("td",null,[t("div",{class:"cell"},"总数:")],-1)),Dt={class:"cell"},Bt=o(()=>t("td",null,[t("div",{class:"cell"},"已使用:")],-1)),wt={class:"cell"},At=o(()=>t("td",null,[t("div",{class:"cell"},"剩余:")],-1)),Et={class:"cell"},Ut=o(()=>t("td",null,[t("div",{class:"cell"},"GFast系统使用:")],-1)),Ot={class:"cell"},kt={style:{"min-height":"280px"},ref:"chartsWarningRef2"};function zt(s,i,l,c,p,h){const u=b("el-card"),r=b("el-col"),m=b("el-row");return y(),F("div",L,[d(m,{gutter:30},{default:n(()=>[d(r,{xs:24,sm:12,md:12,class:"marg-b-15"},{default:n(()=>[d(u,{class:"box-card"},{header:n(()=>[P]),default:n(()=>[t("div",T,[t("table",$,[t("tbody",null,[t("tr",null,[N,t("td",null,[t("div",W,e(s.sysInfo.sysOsName),1)])]),t("tr",null,[G,t("td",null,[t("div",M,e(s.sysInfo.sysOsArch),1)])]),t("tr",null,[V,t("td",null,[t("div",j,e(s.sysInfo.sysComputerName),1)])]),t("tr",null,[K,t("td",null,[t("div",Q,e(s.sysInfo.sysComputerIp),1)])]),t("tr",null,[Z,t("td",null,[t("div",q,e(s.sysInfo.goVersion),1)])]),t("tr",null,[x,t("td",null,[t("div",H,e(s.sysInfo.goStartTime),1)])]),t("tr",null,[J,t("td",null,[t("div",X,e(s.timeFormat(s.sysInfo.goRunTime)),1)])])])])])]),_:1})]),_:1}),d(r,{xs:24,sm:12,md:12,class:"marg-b-15"},{default:n(()=>[d(u,{class:"box-card"},{header:n(()=>[Y]),default:n(()=>[t("div",tt,[t("table",st,[t("tbody",null,[lt,(y(!0),F(E,null,U(s.sysInfo.diskList,(a,f)=>(y(),F("tr",{key:f},[t("td",null,[t("div",et,e(a.path),1)]),t("td",null,[t("div",ot,e(a.fstype),1)]),t("td",null,[t("div",nt,e(s.memorySizeFormat(a.total)),1)]),t("td",null,[t("div",it,e(s.memorySizeFormat(a.free)),1)]),t("td",null,[t("div",at,e(s.memorySizeFormat(a.used)),1)]),t("td",null,[t("div",dt,e(a.usedPercent)+"%",1)])]))),128))])])])]),_:1})]),_:1}),d(r,{xs:24,sm:12,md:12,class:"marg-b-15"},{default:n(()=>[d(u,{class:"box-card"},{header:n(()=>[rt]),default:n(()=>[t("div",ut,[d(m,{gutter:30},{default:n(()=>[d(r,{xs:24,sm:24,md:12},{default:n(()=>[t("table",ct,[t("tbody",null,[t("tr",null,[mt,t("td",null,[t("div",_t,e(s.sysInfo.cpuNum),1)])]),t("tr",null,[pt,t("td",null,[t("div",ht,e(s.sysInfo.cpuUsed)+"%",1)])]),t("tr",null,[ft,t("td",null,[t("div",vt,e(s.sysInfo.cpuAvg5)+"%",1)])]),t("tr",null,[yt,t("td",null,[t("div",Ft,e(s.sysInfo.cpuAvg15)+"%",1)])])])])]),_:1}),d(r,{xs:24,sm:24,md:12},{default:n(()=>[t("div",bt,null,512)]),_:1})]),_:1})])]),_:1})]),_:1}),d(r,{xs:24,sm:12,md:12,class:"marg-b-15"},{default:n(()=>[d(u,{class:"box-card"},{header:n(()=>[gt]),default:n(()=>[t("div",Ct,[d(m,{gutter:30},{default:n(()=>[d(r,{xs:24,sm:24,md:12},{default:n(()=>[t("table",It,[t("tbody",null,[t("tr",null,[St,t("td",null,[t("div",Dt,e(s.memorySizeFormat(s.sysInfo.memTotal)),1)])]),t("tr",null,[Bt,t("td",null,[t("div",wt,e(s.memorySizeFormat(s.sysInfo.memUsed)),1)])]),t("tr",null,[At,t("td",null,[t("div",Et,e(s.memorySizeFormat(s.sysInfo.memFree)),1)])]),t("tr",null,[Ut,t("td",null,[t("div",Ot,e(s.memorySizeFormat(s.sysInfo.goUsed)),1)])])])])]),_:1}),d(r,{xs:24,sm:24,md:12},{default:n(()=>[t("div",kt,null,512)]),_:1})]),_:1})])]),_:1})]),_:1})]),_:1})])}const ws=I(R,[["render",zt],["__scopeId","data-v-7917fc25"]]);export{ws as default};
