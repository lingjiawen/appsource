import{s as m}from"./index-Cf93PWEY.js";import{a as b}from"./element-plus-BcbsnzDt.js";import{d as w,b as L,Z as B,_ as R,o as p,c as C,U as l,O as n,u as o,D as q,ai as d,a as z,S as _,T as k,F as E,a8 as O,M}from"./@vue-CIdpUgdv.js";function Q(r){return m({url:"/api/v1/system/config/list",method:"get",params:r})}function Y(r){return m({url:"/api/v1/system/config/get",method:"get",params:{id:r}})}function A(r){return m({url:"/api/v1/system/config/add",method:"post",data:r})}function W(r){return m({url:"/api/v1/system/config/edit",method:"put",data:r})}function X(r){return m({url:"/api/v1/system/config/delete",method:"delete",data:{ids:r}})}const Z={class:"system-edit-dic-container"},j={class:"dialog-footer"},$=w({name:"apiV1SystemConfigEdit",__name:"editConfig",props:{sysYesNoOptions:{type:Array,default:()=>[]}},emits:["dataList"],setup(r,{expose:F,emit:N}){const y=N,V=L(null),i=B({isShowDialog:!1,ruleForm:{configId:0,configName:"",configKey:"",configValue:"",configType:"0",remark:""},rules:{configName:[{required:!0,message:"参数名称不能为空",trigger:"blur"}],configKey:[{required:!0,message:"参数键名不能为空",trigger:"blur"}],configValue:[{required:!0,message:"参数键值不能为空",trigger:"blur"}]}}),{isShowDialog:c,ruleForm:a,rules:h}=R(i);F({openDialog:u=>{D(),u&&(Y(u.configId).then(e=>{const s=e.data.data;s.configType=String(s.configType),i.ruleForm=s}),i.ruleForm=u),i.isShowDialog=!0}});const D=()=>{i.ruleForm={configId:0,configName:"",configKey:"",configValue:"",configType:"0",remark:""}},g=()=>{i.isShowDialog=!1},S=()=>{g()},T=()=>{const u=o(V);u&&u.validate(e=>{e&&(i.ruleForm.configId!==0?W(i.ruleForm).then(()=>{b.success("参数修改成功"),g(),y("dataList")}):A(i.ruleForm).then(()=>{b.success("参数添加成功"),g(),y("dataList")}))})};return(u,e)=>{const s=d("el-input"),f=d("el-form-item"),x=d("el-radio"),U=d("el-radio-group"),I=d("el-form"),v=d("el-button"),K=d("el-dialog");return p(),C("div",Z,[l(K,{title:(o(a).configId!==0?"修改":"添加")+"参数",modelValue:o(c),"onUpdate:modelValue":e[5]||(e[5]=t=>q(c)?c.value=t:null),width:"769px"},{footer:n(()=>[z("span",j,[l(v,{onClick:S,size:"default"},{default:n(()=>[_("取 消")]),_:1}),l(v,{type:"primary",onClick:T,size:"default"},{default:n(()=>[_(k(o(a).configId!==0?"修 改":"添 加"),1)]),_:1})])]),default:n(()=>[l(I,{model:o(a),ref_key:"formRef",ref:V,rules:o(h),size:"default","label-width":"90px"},{default:n(()=>[l(f,{label:"参数名称",prop:"configName"},{default:n(()=>[l(s,{modelValue:o(a).configName,"onUpdate:modelValue":e[0]||(e[0]=t=>o(a).configName=t),placeholder:"请输入参数名称"},null,8,["modelValue"])]),_:1}),l(f,{label:"参数键名",prop:"configKey"},{default:n(()=>[l(s,{modelValue:o(a).configKey,"onUpdate:modelValue":e[1]||(e[1]=t=>o(a).configKey=t),placeholder:"请输入参数键名"},null,8,["modelValue"])]),_:1}),l(f,{label:"参数键值",prop:"configValue"},{default:n(()=>[l(s,{modelValue:o(a).configValue,"onUpdate:modelValue":e[2]||(e[2]=t=>o(a).configValue=t),placeholder:"请输入参数键值"},null,8,["modelValue"])]),_:1}),l(f,{label:"系统内置",prop:"configType"},{default:n(()=>[l(U,{modelValue:o(a).configType,"onUpdate:modelValue":e[3]||(e[3]=t=>o(a).configType=t)},{default:n(()=>[(p(!0),C(E,null,O(r.sysYesNoOptions,t=>(p(),M(x,{key:t.value,value:t.value},{default:n(()=>[_(k(t.label),1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"])]),_:1}),l(f,{label:"备注",prop:"remark"},{default:n(()=>[l(s,{modelValue:o(a).remark,"onUpdate:modelValue":e[4]||(e[4]=t=>o(a).remark=t),type:"textarea",placeholder:"请输入内容"},null,8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])]),_:1},8,["title","modelValue"])])}}});export{$ as _,X as d,Q as g};
