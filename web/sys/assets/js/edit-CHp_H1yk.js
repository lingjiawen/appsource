import{g as F,a as M,u as Z}from"./signDevice-DzGf4Bkz.js";import{a as O}from"./element-plus-BcbsnzDt.js";import{d as j,b as k,Z as z,_ as G,o as p,c as m,U as a,O as d,u as l,D as H,ai as s,aq as J,P as K,S as n,T as v,a as Q,F as c,a8 as T,M as g}from"./@vue-CIdpUgdv.js";import{a as X}from"./index-Cf93PWEY.js";import"./lodash-es-1chB_st9.js";import"./@vueuse-Dw_h8qVP.js";import"./@element-plus-jSNvwxF2.js";import"./@popperjs-D9SI2xQl.js";import"./@ctrl-r5W6hzzQ.js";import"./dayjs-BB1_x23Y.js";import"./@intlify-BrbEMGpa.js";import"./async-validator-DKvM95Vc.js";import"./memoize-one-BdPwpGay.js";import"./normalize-wheel-es-B6fDCfyv.js";import"./@floating-ui-DSOXY3Ah.js";import"./pinia-DE-bJcb2.js";import"./vue-demi-Dq6ymT-8.js";import"./vue-router-CWOL7ATe.js";import"./js-cookie-Cz0CWeBA.js";import"./nprogress-ekFNJb3B.js";import"./axios-CdtiCRuU.js";import"./qs-Cbync0Ql.js";import"./side-channel-Bxu5bNZA.js";import"./get-intrinsic-BKEvijrG.js";import"./es-errors-DzOT6E3C.js";import"./has-symbols-eVqrYdw7.js";import"./has-proto-JnoBQRdH.js";import"./function-bind-BbkWVFrm.js";import"./hasown-DYqjtFKE.js";import"./call-bind-Bt3bzbWQ.js";import"./set-function-length-B5OANX0j.js";import"./define-data-property-DO9o5wXF.js";import"./es-define-property-tzmkNPou.js";import"./gopd-CEkvUycD.js";import"./has-property-descriptors-DphFXkuo.js";import"./object-inspect-C4zVfScY.js";import"./vue-i18n-C6ZazF2L.js";import"./vue-BUaMJYO7.js";import"./vue-clipboard3-B4JKg9Nx.js";import"./clipboard-UlwKUFeW.js";import"./mitt-DJ65BbbF.js";import"./vue-grid-layout-CBs1MJUm.js";import"./vue-simple-uploader-DfJosV98.js";import"./vue-ueditor-wrap-DRzi_KnA.js";const Y={class:"install-signDevice-edit"},$={class:"dialog-footer"},h=j({name:"ApiV1InstallSignDeviceEdit",__name:"edit",props:{accountTypeOptions:{type:Array,default:()=>[]},warrantyTypeOptions:{type:Array,default:()=>[]},deviceTypeOptions:{type:Array,default:()=>[]},statusOptions:{type:Array,default:()=>[]},poolOptions:{type:Array,default:()=>[]},apiPlatformOptions:{type:Array,default:()=>[]},apiWarrantyTypeOptions:{type:Array,default:()=>[]}},emits:["signDeviceList"],setup(f,{expose:I,emit:x}){const w=x,U=k(null);k();const u=z({loading:!1,isShowDialog:!1,formData:{id:void 0,udid:void 0,name:void 0,certId:void 0,deviceId:void 0,p12:void 0,mobileprovision:void 0,addTime:void 0,p12Password:void 0,model:void 0,expireTime:void 0,serialNumber:void 0,redeemCode:void 0,accountType:void 0,warrantyType:void 0,deviceType:void 0,status:void 0,pool:void 0,apiPlatform:void 0,apiWarrantyType:void 0,active:!1,createdBy:void 0,updatedBy:void 0,createdAt:void 0,updatedAt:void 0,deletedAt:void 0},rules:{id:[{required:!0,message:"ID不能为空",trigger:"blur"}],name:[{required:!0,message:"证书名不能为空",trigger:"blur"}],status:[{required:!0,message:"状态不能为空",trigger:"blur"}]}}),{loading:P,isShowDialog:_,formData:t,rules:S}=G(u),C=b=>{N(),b&&F(b.id).then(o=>{const i=o.data;i.accountType=""+i.accountType,i.warrantyType=""+i.warrantyType,i.deviceType=""+i.deviceType,i.status=""+i.status,i.pool=""+i.pool,i.apiPlatform=""+i.apiPlatform,i.apiWarrantyType=""+i.apiWarrantyType,i.active=!!i.active,u.formData=i}),u.isShowDialog=!0},D=()=>{u.isShowDialog=!1};I({openDialog:C});const W=()=>{D()},B=()=>{const b=l(U);b&&b.validate(o=>{o&&(u.loading=!0,!u.formData.id||u.formData.id===0?M(u.formData).then(()=>{O.success("添加成功"),D(),w("signDeviceList")}).finally(()=>{u.loading=!1}):Z(u.formData).then(()=>{O.success("修改成功"),D(),w("signDeviceList")}).finally(()=>{u.loading=!1}))})},N=()=>{u.formData={id:void 0,udid:void 0,name:void 0,certId:void 0,deviceId:void 0,p12:void 0,mobileprovision:void 0,addTime:void 0,p12Password:void 0,model:void 0,expireTime:void 0,serialNumber:void 0,redeemCode:void 0,accountType:"",warrantyType:"",deviceType:"",status:"",pool:"",apiPlatform:"",apiWarrantyType:"",active:!1,createdBy:void 0,updatedBy:void 0,createdAt:void 0,updatedAt:void 0,deletedAt:void 0}};return(b,o)=>{const i=s("el-input"),r=s("el-form-item"),y=s("el-radio"),V=s("el-radio-group"),q=s("el-switch"),E=s("el-form"),A=s("el-button"),L=s("el-dialog"),R=J("drag");return p(),m("div",Y,[a(L,{modelValue:l(_),"onUpdate:modelValue":o[18]||(o[18]=e=>H(_)?_.value=e:null),width:"800px","close-on-click-modal":!1,"destroy-on-close":!0},{header:d(()=>[K((p(),m("div",null,[n(v((!l(t).id||l(t).id==0?"添加":"修改")+"设备管理"),1)])),[[R,[".install-signDevice-edit .el-dialog",".install-signDevice-edit .el-dialog__header"]]])]),footer:d(()=>[Q("div",$,[a(A,{type:"primary",onClick:B,disabled:l(P)},{default:d(()=>[n("确 定")]),_:1},8,["disabled"]),a(A,{onClick:W},{default:d(()=>[n("取 消")]),_:1})])]),default:d(()=>[a(E,{ref_key:"formRef",ref:U,model:l(t),rules:l(S),"label-width":"120px"},{default:d(()=>[a(r,{label:"设备码",prop:"udid"},{default:d(()=>[a(i,{modelValue:l(t).udid,"onUpdate:modelValue":o[0]||(o[0]=e=>l(t).udid=e),placeholder:"请输入设备码"},null,8,["modelValue"])]),_:1}),a(r,{label:"证书名",prop:"name"},{default:d(()=>[a(i,{modelValue:l(t).name,"onUpdate:modelValue":o[1]||(o[1]=e=>l(t).name=e),placeholder:"请输入证书名"},null,8,["modelValue"])]),_:1}),a(r,{label:"证书标识",prop:"certId"},{default:d(()=>[a(i,{modelValue:l(t).certId,"onUpdate:modelValue":o[2]||(o[2]=e=>l(t).certId=e),placeholder:"请输入证书标识"},null,8,["modelValue"])]),_:1}),a(r,{label:"设备标识",prop:"deviceId"},{default:d(()=>[a(i,{modelValue:l(t).deviceId,"onUpdate:modelValue":o[3]||(o[3]=e=>l(t).deviceId=e),placeholder:"请输入设备标识"},null,8,["modelValue"])]),_:1}),a(r,{label:"证书文件",prop:"p12"},{default:d(()=>[a(i,{modelValue:l(t).p12,"onUpdate:modelValue":o[4]||(o[4]=e=>l(t).p12=e),placeholder:"请输入证书文件"},null,8,["modelValue"])]),_:1}),a(r,{label:"描述文件",prop:"mobileprovision"},{default:d(()=>[a(i,{modelValue:l(t).mobileprovision,"onUpdate:modelValue":o[5]||(o[5]=e=>l(t).mobileprovision=e),placeholder:"请输入描述文件"},null,8,["modelValue"])]),_:1}),a(r,{label:"添加时间",prop:"addTime"},{default:d(()=>[a(i,{modelValue:l(t).addTime,"onUpdate:modelValue":o[6]||(o[6]=e=>l(t).addTime=e),placeholder:"请输入添加时间"},null,8,["modelValue"])]),_:1}),a(r,{label:"设备型号",prop:"model"},{default:d(()=>[a(i,{modelValue:l(t).model,"onUpdate:modelValue":o[7]||(o[7]=e=>l(t).model=e),placeholder:"请输入设备型号"},null,8,["modelValue"])]),_:1}),a(r,{label:"过期时间",prop:"expireTime"},{default:d(()=>[a(i,{modelValue:l(t).expireTime,"onUpdate:modelValue":o[8]||(o[8]=e=>l(t).expireTime=e),placeholder:"请输入过期时间"},null,8,["modelValue"])]),_:1}),a(r,{label:"兑换卡密",prop:"redeemCode"},{default:d(()=>[a(i,{modelValue:l(t).redeemCode,"onUpdate:modelValue":o[9]||(o[9]=e=>l(t).redeemCode=e),placeholder:"请输入兑换卡密"},null,8,["modelValue"])]),_:1}),a(r,{label:"时效类型",prop:"accountType"},{default:d(()=>[a(V,{modelValue:l(t).accountType,"onUpdate:modelValue":o[10]||(o[10]=e=>l(t).accountType=e)},{default:d(()=>[(p(!0),m(c,null,T(f.accountTypeOptions,e=>(p(),g(y,{key:e.value,value:e.value},{default:d(()=>[n(v(e.label),1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"])]),_:1}),a(r,{label:"售后类型",prop:"warrantyType"},{default:d(()=>[a(V,{modelValue:l(t).warrantyType,"onUpdate:modelValue":o[11]||(o[11]=e=>l(t).warrantyType=e)},{default:d(()=>[(p(!0),m(c,null,T(f.warrantyTypeOptions,e=>(p(),g(y,{key:e.value,value:e.value},{default:d(()=>[n(v(e.label),1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"])]),_:1}),a(r,{label:"设备类型",prop:"deviceType"},{default:d(()=>[a(V,{modelValue:l(t).deviceType,"onUpdate:modelValue":o[12]||(o[12]=e=>l(t).deviceType=e)},{default:d(()=>[(p(!0),m(c,null,T(f.deviceTypeOptions,e=>(p(),g(y,{key:e.value,value:e.value},{default:d(()=>[n(v(e.label),1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"])]),_:1}),a(r,{label:"状态",prop:"status"},{default:d(()=>[a(V,{modelValue:l(t).status,"onUpdate:modelValue":o[13]||(o[13]=e=>l(t).status=e)},{default:d(()=>[(p(!0),m(c,null,T(f.statusOptions,e=>(p(),g(y,{key:e.value,value:e.value},{default:d(()=>[n(v(e.label),1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"])]),_:1}),a(r,{label:"出书方式",prop:"pool"},{default:d(()=>[a(V,{modelValue:l(t).pool,"onUpdate:modelValue":o[14]||(o[14]=e=>l(t).pool=e)},{default:d(()=>[(p(!0),m(c,null,T(f.poolOptions,e=>(p(),g(y,{key:e.value,value:e.value},{default:d(()=>[n(v(e.label),1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"])]),_:1}),a(r,{label:"对接平台",prop:"apiPlatform"},{default:d(()=>[a(V,{modelValue:l(t).apiPlatform,"onUpdate:modelValue":o[15]||(o[15]=e=>l(t).apiPlatform=e)},{default:d(()=>[(p(!0),m(c,null,T(f.apiPlatformOptions,e=>(p(),g(y,{key:e.value,value:e.value},{default:d(()=>[n(v(e.label),1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"])]),_:1}),a(r,{label:"对接售后类型",prop:"apiWarrantyType"},{default:d(()=>[a(V,{modelValue:l(t).apiWarrantyType,"onUpdate:modelValue":o[16]||(o[16]=e=>l(t).apiWarrantyType=e)},{default:d(()=>[(p(!0),m(c,null,T(f.apiWarrantyTypeOptions,e=>(p(),g(y,{key:e.value,value:e.value},{default:d(()=>[n(v(e.label),1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"])]),_:1}),a(r,{label:"禁用",prop:"active"},{default:d(()=>[a(q,{modelValue:l(t).active,"onUpdate:modelValue":o[17]||(o[17]=e=>l(t).active=e),class:"ml-2"},null,8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])]),_:1},8,["modelValue"])])}}}),ze=X(h,[["__scopeId","data-v-79478c5b"]]);export{ze as default};
