import{d as y,b as d,Z as g,j as v,_ as b,n as k,P as w,V as S,o as a,c as n,a as f,I as T,R as m,T as W,H as x,M as I,J as u,ai as $}from"./@vue-CIdpUgdv.js";import{a as B}from"./index-Cf93PWEY.js";const O=y({name:"noticeBar",props:{mode:{type:String,default:()=>""},text:{type:String,default:()=>""},color:{type:String,default:()=>"var(--el-color-warning)"},background:{type:String,default:()=>"var(--el-color-warning-light-9)"},size:{type:[Number,String],default:()=>14},height:{type:Number,default:()=>40},delay:{type:Number,default:()=>1},speed:{type:Number,default:()=>100},scrollable:{type:Boolean,default:()=>!1},leftIcon:{type:String,default:()=>""},rightIcon:{type:String,default:()=>""}},setup(e,{emit:i}){const s=d(),o=d(),t=g({order:1,oneTime:0,twoTime:0,warpOWidth:0,textOWidth:0,isMode:!1}),l=()=>{k(()=>{t.warpOWidth=s.value.offsetWidth,t.textOWidth=o.value.offsetWidth,document.styleSheets[0].insertRule(`@keyframes oneAnimation {0% {left: 0px;} 100% {left: -${t.textOWidth}px;}}`),document.styleSheets[0].insertRule(`@keyframes twoAnimation {0% {left: ${t.warpOWidth}px;} 100% {left: -${t.textOWidth}px;}}`),r(),setTimeout(()=>{c()},e.delay*1e3)})},r=()=>{t.oneTime=t.textOWidth/e.speed,t.twoTime=(t.textOWidth+t.warpOWidth)/e.speed},c=()=>{t.order===1?(o.value.style.cssText=`animation: oneAnimation ${t.oneTime}s linear; opactity: 1;}`,t.order=2):o.value.style.cssText=`animation: twoAnimation ${t.twoTime}s linear infinite; opacity: 1;`},p=()=>{o.value.addEventListener("animationend",()=>{c()},!1)},h=()=>{if(!e.mode)return!1;e.mode==="closeable"?(t.isMode=!0,i("close")):e.mode==="link"&&i("link")};return v(()=>{if(e.scrollable)return!1;l(),p()}),{noticeBarWarpRef:s,noticeBarTextRef:o,onRightIconClick:h,...b(t)}}}),R={class:"notice-bar-warp-text-box",ref:"noticeBarWarpRef"},A={key:1,class:"notice-bar-warp-slot"};function C(e,i,s,o,t,l){const r=$("SvgIcon");return w((a(),n("div",{class:"notice-bar",style:u({background:e.background,height:`${e.height}px`})},[f("div",{class:"notice-bar-warp",style:u({color:e.color,fontSize:`${e.size}px`})},[e.leftIcon?(a(),n("i",{key:0,class:T(["notice-bar-warp-left-icon",e.leftIcon])},null,2)):m("",!0),f("div",R,[e.scrollable?(a(),n("div",A,[x(e.$slots,"default",{},void 0,!0)])):(a(),n("div",{key:0,class:"notice-bar-warp-text",ref:"noticeBarTextRef"},W(e.text),513))],512),e.rightIcon?(a(),I(r,{key:1,name:e.rightIcon,class:"notice-bar-warp-right-icon",onClick:e.onRightIconClick},null,8,["name","onClick"])):m("",!0)],4)],4)),[[S,!e.isMode]])}const M=B(O,[["render",C],["__scopeId","data-v-fc4a7a2e"]]);export{M as N};
