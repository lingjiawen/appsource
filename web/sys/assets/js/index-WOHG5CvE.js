import{a as s}from"./element-plus-BcbsnzDt.js";import{d as $,b as x,Z as T,_ as N,o as l,M as n,O as o,ai as t,U as u,c,a8 as h,R as m,a as d,T as z,F as w,S as y}from"./@vue-CIdpUgdv.js";import{a as M}from"./index-Cf93PWEY.js";import"./lodash-es-1chB_st9.js";import"./@vueuse-Dw_h8qVP.js";import"./@element-plus-jSNvwxF2.js";import"./@popperjs-D9SI2xQl.js";import"./@ctrl-r5W6hzzQ.js";import"./dayjs-BB1_x23Y.js";import"./@intlify-BrbEMGpa.js";import"./async-validator-DKvM95Vc.js";import"./memoize-one-BdPwpGay.js";import"./normalize-wheel-es-B6fDCfyv.js";import"./@floating-ui-DSOXY3Ah.js";import"./pinia-DE-bJcb2.js";import"./vue-demi-Dq6ymT-8.js";import"./vue-router-CWOL7ATe.js";import"./js-cookie-Cz0CWeBA.js";import"./nprogress-ekFNJb3B.js";import"./axios-CdtiCRuU.js";import"./qs-Cbync0Ql.js";import"./side-channel-Bxu5bNZA.js";import"./get-intrinsic-BKEvijrG.js";import"./es-errors-DzOT6E3C.js";import"./has-symbols-eVqrYdw7.js";import"./has-proto-JnoBQRdH.js";import"./function-bind-BbkWVFrm.js";import"./hasown-DYqjtFKE.js";import"./call-bind-Bt3bzbWQ.js";import"./set-function-length-B5OANX0j.js";import"./define-data-property-DO9o5wXF.js";import"./es-define-property-tzmkNPou.js";import"./gopd-CEkvUycD.js";import"./has-property-descriptors-DphFXkuo.js";import"./object-inspect-C4zVfScY.js";import"./vue-i18n-C6ZazF2L.js";import"./vue-BUaMJYO7.js";import"./vue-clipboard3-B4JKg9Nx.js";import"./clipboard-UlwKUFeW.js";import"./mitt-DJ65BbbF.js";import"./vue-grid-layout-CBs1MJUm.js";import"./vue-simple-uploader-DfJosV98.js";import"./vue-ueditor-wrap-DRzi_KnA.js";const S=$({name:"pagesTableRules",setup(){const r=x(),i=T({tableData:{data:[],header:[{prop:"a1",width:"",label:"一级分类",isRequired:!0,type:"select"},{prop:"a2",width:"",label:"二级分类",isRequired:!0,type:"select"},{prop:"a3",width:"",label:"三级分类",isRequired:!0,type:"select"},{prop:"a4",width:"",label:"四级分类",isRequired:!0,type:"date"},{prop:"a5",width:"",label:"五级分类",isRequired:!0,type:"input"},{prop:"a6",width:"",label:"六级分类",isTooltip:!0,type:"dialog"},{prop:"a7",width:"",label:"演示级分类",type:"input"},{prop:"a8",width:"",label:"颜色是分类",type:"input"}],option:[{value:"选项1",label:"黄金糕"},{value:"选项2",label:"双皮奶"},{value:"选项3",label:"蚵仔煎"}]}});return{onValidate:()=>{if(i.tableData.data.length<=0)return s.warning("请先点击增加一行");r.value.validate(_=>{if(!_)return s.warning("表格项必填未填");s.success("全部验证通过")})},onAddRow:()=>{i.tableData.data.push({a1:"",a2:"",a3:"",a4:"",a5:"",a6:"",a7:"",a8:""})},tableRulesRef:r,...N(i)}}}),L={key:0,class:"color-danger"},O={class:"pl5"},Z=d("i",{class:"iconfont icon-quanxian"},null,-1),j=d("i",{class:"iconfont icon-shouye_dongtaihui"},null,-1),G={class:"flex-margin"};function H(r,i,V,k,_,I){const R=t("el-tooltip"),g=t("el-option"),C=t("el-select"),B=t("el-date-picker"),f=t("el-input"),v=t("el-form-item"),D=t("el-table-column"),F=t("el-table"),q=t("el-form"),b=t("el-button"),E=t("el-row"),U=t("el-card");return l(),n(U,{shadow:"hover",header:"表单表格验证"},{default:o(()=>[u(q,{ref:"tableRulesRef",model:r.tableData,size:"default"},{default:o(()=>[u(F,{data:r.tableData.data,border:"",class:"module-table-uncollected"},{default:o(()=>[(l(!0),c(w,null,h(r.tableData.header,(e,A)=>(l(),n(D,{key:A,"show-overflow-tooltip":"",prop:e.prop,width:e.width,label:e.label},{header:o(()=>[e.isRequired?(l(),c("span",L,"*")):m("",!0),d("span",O,z(e.label),1),e.isTooltip?(l(),n(R,{key:1,effect:"dark",content:"这是tooltip",placement:"top"},{default:o(()=>[Z]),_:1})):m("",!0)]),default:o(p=>[u(v,{prop:`data.${p.$index}.${e.prop}`,rules:[{required:e.isRequired,message:"不能为空",trigger:`${e.type}`=="input"?"blur":"change"}]},{default:o(()=>[e.type==="select"?(l(),n(C,{key:0,modelValue:p.row[e.prop],"onUpdate:modelValue":a=>p.row[e.prop]=a,placeholder:"请选择"},{default:o(()=>[(l(!0),c(w,null,h(r.tableData.option,a=>(l(),n(g,{key:a.id,label:a.label,value:a.value},null,8,["label","value"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue"])):e.type==="date"?(l(),n(B,{key:1,modelValue:p.row[e.prop],"onUpdate:modelValue":a=>p.row[e.prop]=a,type:"date",placeholder:"选择日期",style:{width:"100%"}},null,8,["modelValue","onUpdate:modelValue"])):e.type==="input"?(l(),n(f,{key:2,modelValue:p.row[e.prop],"onUpdate:modelValue":a=>p.row[e.prop]=a,placeholder:"请输入内容"},null,8,["modelValue","onUpdate:modelValue"])):e.type==="dialog"?(l(),n(f,{key:3,modelValue:p.row[e.prop],"onUpdate:modelValue":a=>p.row[e.prop]=a,readonly:"",placeholder:"请输入内容"},{suffix:o(()=>[j]),_:2},1032,["modelValue","onUpdate:modelValue"])):m("",!0)]),_:2},1032,["prop","rules"])]),_:2},1032,["prop","width","label"]))),128))]),_:1},8,["data"])]),_:1},8,["model"]),u(E,{class:"flex mt15"},{default:o(()=>[d("div",G,[u(b,{size:"default",type:"success",onClick:r.onValidate},{default:o(()=>[y("表格验证")]),_:1},8,["onClick"]),u(b,{size:"default",type:"primary",onClick:r.onAddRow},{default:o(()=>[y("新增一行")]),_:1},8,["onClick"])])]),_:1})]),_:1})}const Ne=M(S,[["render",H]]);export{Ne as default};
