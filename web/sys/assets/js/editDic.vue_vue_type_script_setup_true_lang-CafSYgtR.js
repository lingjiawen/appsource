import{g as h,e as C,a as I}from"./type-AtHV8VU4.js";import{a as V}from"./element-plus-BcbsnzDt.js";import{d as U,b as w,Z as R,_ as z,o as B,c as E,U as t,O as l,u as o,D as L,ai as i,a as q,S as u,T as M}from"./@vue-CIdpUgdv.js";const O={class:"system-edit-dic-container"},W={class:"dialog-footer"},J=U({name:"systemEditDic",__name:"editDic",emits:["typeList"],setup(Z,{expose:T,emit:b}){const f=b,_=w(null),s=R({isShowDialog:!1,ruleForm:{dictId:0,dictName:"",dictType:"",status:1,remark:""},rules:{dictName:[{required:!0,message:"字典名称不能为空",trigger:"blur"}],dictType:[{required:!0,message:"字典类型不能为空",trigger:"blur"}]}}),{isShowDialog:m,ruleForm:a,rules:D}=z(s);T({openDialog:d=>{k(),d&&(h(d.dictId).then(e=>{s.ruleForm=e.data.dictType}),s.ruleForm=d),s.isShowDialog=!0}});const k=()=>{s.ruleForm={dictId:0,dictName:"",dictType:"",status:1,remark:""}},p=()=>{s.isShowDialog=!1},F=()=>{p()},N=()=>{const d=o(_);d&&d.validate(e=>{e&&(s.ruleForm.dictId!==0?C(s.ruleForm).then(()=>{V.success("字典类型修改成功"),p(),f("typeList")}):I(s.ruleForm).then(()=>{V.success("字典类型添加成功"),p(),f("typeList")}))})};return(d,e)=>{const c=i("el-input"),n=i("el-form-item"),g=i("el-radio"),x=i("el-radio-group"),v=i("el-form"),y=i("el-button"),S=i("el-dialog");return B(),E("div",O,[t(S,{title:(o(a).dictId!==0?"修改":"添加")+"字典",modelValue:o(m),"onUpdate:modelValue":e[4]||(e[4]=r=>L(m)?m.value=r:null),width:"769px"},{footer:l(()=>[q("span",W,[t(y,{onClick:F,size:"default"},{default:l(()=>[u("取 消")]),_:1}),t(y,{type:"primary",onClick:N,size:"default"},{default:l(()=>[u(M(o(a).dictId!==0?"修 改":"添 加"),1)]),_:1})])]),default:l(()=>[t(v,{model:o(a),ref_key:"formRef",ref:_,rules:o(D),size:"default","label-width":"90px"},{default:l(()=>[t(n,{label:"字典名称",prop:"dictName"},{default:l(()=>[t(c,{modelValue:o(a).dictName,"onUpdate:modelValue":e[0]||(e[0]=r=>o(a).dictName=r),placeholder:"请输入字典名称"},null,8,["modelValue"])]),_:1}),t(n,{label:"字典类型",prop:"dictType"},{default:l(()=>[t(c,{modelValue:o(a).dictType,"onUpdate:modelValue":e[1]||(e[1]=r=>o(a).dictType=r),placeholder:"请输入字典类型"},null,8,["modelValue"])]),_:1}),t(n,{label:"状态",prop:"status"},{default:l(()=>[t(x,{modelValue:o(a).status,"onUpdate:modelValue":e[2]||(e[2]=r=>o(a).status=r)},{default:l(()=>[t(g,{value:1},{default:l(()=>[u("启用")]),_:1}),t(g,{value:0},{default:l(()=>[u("禁用")]),_:1})]),_:1},8,["modelValue"])]),_:1}),t(n,{label:"备注",prop:"remark"},{default:l(()=>[t(c,{modelValue:o(a).remark,"onUpdate:modelValue":e[3]||(e[3]=r=>o(a).remark=r),type:"textarea",placeholder:"请输入内容"},null,8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])]),_:1},8,["title","modelValue"])])}}});export{J as _};
