import{d as q,b,Z as P,_ as j,j as Q,o as v,c as V,U as e,O as a,u as l,i as Z,ai as r,a as G,a9 as k,F as H,a8 as J,M as W,S as u,P as X,V as ee}from"./@vue-CIdpUgdv.js";import{_ as te,g as oe,d as ae}from"./editConfig.vue_vue_type_script_setup_true_lang-CL4JrZ9U.js";import{a as C,E as le}from"./element-plus-BcbsnzDt.js";import"./index-Cf93PWEY.js";import"./pinia-DE-bJcb2.js";import"./vue-demi-Dq6ymT-8.js";import"./vue-router-CWOL7ATe.js";import"./js-cookie-Cz0CWeBA.js";import"./@element-plus-jSNvwxF2.js";import"./nprogress-ekFNJb3B.js";import"./@intlify-BrbEMGpa.js";import"./axios-CdtiCRuU.js";import"./qs-Cbync0Ql.js";import"./side-channel-Bxu5bNZA.js";import"./get-intrinsic-BKEvijrG.js";import"./es-errors-DzOT6E3C.js";import"./has-symbols-eVqrYdw7.js";import"./has-proto-JnoBQRdH.js";import"./function-bind-BbkWVFrm.js";import"./hasown-DYqjtFKE.js";import"./call-bind-Bt3bzbWQ.js";import"./set-function-length-B5OANX0j.js";import"./define-data-property-DO9o5wXF.js";import"./es-define-property-tzmkNPou.js";import"./gopd-CEkvUycD.js";import"./has-property-descriptors-DphFXkuo.js";import"./object-inspect-C4zVfScY.js";import"./vue-i18n-C6ZazF2L.js";import"./vue-BUaMJYO7.js";import"./vue-clipboard3-B4JKg9Nx.js";import"./clipboard-UlwKUFeW.js";import"./mitt-DJ65BbbF.js";import"./vue-grid-layout-CBs1MJUm.js";import"./vue-simple-uploader-DfJosV98.js";import"./vue-ueditor-wrap-DRzi_KnA.js";import"./lodash-es-1chB_st9.js";import"./@vueuse-Dw_h8qVP.js";import"./@popperjs-D9SI2xQl.js";import"./@ctrl-r5W6hzzQ.js";import"./dayjs-BB1_x23Y.js";import"./async-validator-DKvM95Vc.js";import"./memoize-one-BdPwpGay.js";import"./normalize-wheel-es-B6fDCfyv.js";import"./@floating-ui-DSOXY3Ah.js";const ne={class:"system-dic-container"},ie={class:"system-user-search mb15"},We=q({name:"apiV1SystemConfigList",__name:"index",setup(re){const{proxy:h}=Z();b();const g=b(),w=b(),{sys_yes_no:y}=h.useDict("sys_yes_no"),c=P({ids:[],tableData:{data:[],total:0,loading:!1,param:{dateRange:[],pageNum:1,pageSize:10,configName:"",configKey:"",configType:""}}}),{tableData:n}=j(c),x=()=>{s()},s=()=>{oe(c.tableData.param).then(i=>{c.tableData.data=i.data.list,c.tableData.total=i.data.total})},N=()=>{g.value.openDialog()},R=i=>{g.value.openDialog(i)},D=i=>{let t="你确定要删除所选数据？",m=[];if(i?(t=`此操作将永久删除用户：“${i.configName}”，是否继续?`,m=[i.configId]):m=c.ids,m.length===0){C.error("请选择要删除的数据。");return}le.confirm(t,"提示",{confirmButtonText:"确认",cancelButtonText:"取消",type:"warning"}).then(()=>{ae(m).then(()=>{C.success("删除成功"),s()})}).catch(()=>{})};Q(()=>{x()});const S=i=>{i&&(i.resetFields(),s())},T=i=>{c.ids=i.map(t=>t.configId)},z=i=>h.selectDictLabel(l(y),i.configType);return(i,t)=>{const m=r("el-input"),f=r("el-form-item"),K=r("el-option"),B=r("el-select"),U=r("el-date-picker"),F=r("ele-Search"),_=r("el-icon"),d=r("el-button"),L=r("ele-Refresh"),M=r("ele-FolderAdd"),Y=r("ele-Delete"),$=r("el-form"),p=r("el-table-column"),O=r("el-table"),A=r("pagination"),E=r("el-card");return v(),V("div",ne,[e(E,{shadow:"hover"},{default:a(()=>[G("div",ie,[e($,{model:l(n).param,ref_key:"queryRef",ref:w,inline:!0,"label-width":"68px"},{default:a(()=>[e(f,{label:"参数名称",prop:"configName"},{default:a(()=>[e(m,{modelValue:l(n).param.configName,"onUpdate:modelValue":t[0]||(t[0]=o=>l(n).param.configName=o),placeholder:"请输入参数名称",clearable:"",onKeyup:k(s,["enter","native"])},null,8,["modelValue"])]),_:1}),e(f,{label:"参数键名",prop:"configKey"},{default:a(()=>[e(m,{modelValue:l(n).param.configKey,"onUpdate:modelValue":t[1]||(t[1]=o=>l(n).param.configKey=o),placeholder:"请输入参数键名",clearable:"",onKeyup:k(s,["enter","native"])},null,8,["modelValue"])]),_:1}),e(f,{label:"系统内置",prop:"configType",style:{width:"200px"}},{default:a(()=>[e(B,{modelValue:l(n).param.configType,"onUpdate:modelValue":t[2]||(t[2]=o=>l(n).param.configType=o),placeholder:"系统内置",clearable:"",style:{width:"240px"}},{default:a(()=>[(v(!0),V(H,null,J(l(y),o=>(v(),W(K,{key:o.value,label:o.label,value:o.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),e(f,{label:"创建时间",prop:"dateRange"},{default:a(()=>[e(U,{modelValue:l(n).param.dateRange,"onUpdate:modelValue":t[3]||(t[3]=o=>l(n).param.dateRange=o),style:{width:"240px"},"value-format":"YYYY-MM-DD",type:"daterange","range-separator":"-","start-placeholder":"开始日期","end-placeholder":"结束日期"},null,8,["modelValue"])]),_:1}),e(f,null,{default:a(()=>[e(d,{size:"default",type:"primary",class:"ml10",onClick:s},{default:a(()=>[e(_,null,{default:a(()=>[e(F)]),_:1}),u(" 查询 ")]),_:1}),e(d,{size:"default",onClick:t[4]||(t[4]=o=>S(w.value))},{default:a(()=>[e(_,null,{default:a(()=>[e(L)]),_:1}),u(" 重置 ")]),_:1}),e(d,{size:"default",type:"success",class:"ml10",onClick:N},{default:a(()=>[e(_,null,{default:a(()=>[e(M)]),_:1}),u(" 新增参数 ")]),_:1}),e(d,{size:"default",type:"danger",class:"ml10",onClick:t[5]||(t[5]=o=>D(null))},{default:a(()=>[e(_,null,{default:a(()=>[e(Y)]),_:1}),u(" 删除参数 ")]),_:1})]),_:1})]),_:1},8,["model"])]),e(O,{data:l(n).data,style:{width:"100%"},onSelectionChange:T},{default:a(()=>[e(p,{type:"selection",width:"55",align:"center"}),e(p,{label:"参数主键",align:"center",prop:"configId"}),e(p,{label:"参数名称",align:"center",prop:"configName","show-overflow-tooltip":!0}),e(p,{label:"参数键名",align:"center",prop:"configKey","show-overflow-tooltip":!0}),e(p,{label:"参数键值",align:"center",prop:"configValue"}),e(p,{label:"系统内置",align:"center",prop:"configType",formatter:z}),e(p,{label:"备注",align:"center",prop:"remark","show-overflow-tooltip":!0}),e(p,{label:"创建时间",align:"center",prop:"createdAt",width:"180"}),e(p,{label:"操作",width:"200"},{default:a(o=>[e(d,{size:"small",text:"",type:"primary",onClick:I=>R(o.row)},{default:a(()=>[u("修改")]),_:2},1032,["onClick"]),e(d,{size:"small",text:"",type:"primary",onClick:I=>D(o.row)},{default:a(()=>[u("删除")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"]),X(e(A,{total:l(n).total,page:l(n).param.pageNum,"onUpdate:page":t[6]||(t[6]=o=>l(n).param.pageNum=o),limit:l(n).param.pageSize,"onUpdate:limit":t[7]||(t[7]=o=>l(n).param.pageSize=o),onPagination:s},null,8,["total","page","limit"]),[[ee,l(n).total>0]])]),_:1}),e(te,{ref_key:"editDicRef",ref:g,onDataList:s,sysYesNoOptions:l(y)},null,8,["sysYesNoOptions"])])}}});export{We as default};
