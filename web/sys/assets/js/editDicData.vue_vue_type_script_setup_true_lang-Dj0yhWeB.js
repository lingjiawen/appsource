import{$ as h,a0 as q,a1 as z}from"./index-Cf93PWEY.js";import{a as D}from"./element-plus-BcbsnzDt.js";import{d as B,b as E,Z as N,_ as M,o as O,c as W,U as t,O as d,u as l,D as Z,ai as s,a as $,S as m,T as j}from"./@vue-CIdpUgdv.js";const A={class:"system-edit-dic-container"},G={class:"dialog-footer"},P=B({name:"systemEditDicData",__name:"editDicData",props:{dictType:{type:String,default:""}},emits:["dataList"],setup(y,{expose:S,emit:v}){const f=y,_=v,V=E(null),i=N({isShowDialog:!1,ruleForm:{dictCode:0,dictLabel:"",dictValue:"",dictSort:0,isDefault:0,status:1,remark:"",dictType:f.dictType},rules:{dictLabel:[{required:!0,message:"数据标签不能为空",trigger:"blur"}],dictValue:[{required:!0,message:"数据键值不能为空",trigger:"blur"}],dictSort:[{required:!0,message:"数据顺序不能为空",trigger:"blur"}]}}),{isShowDialog:c,ruleForm:o,rules:C}=M(i);S({openDialog:r=>{k(),r&&(h(r.dictCode).then(e=>{i.ruleForm=e.data.dict}),i.ruleForm=r),i.isShowDialog=!0}});const k=()=>{i.ruleForm={dictCode:0,dictLabel:"",dictValue:"",dictSort:0,isDefault:0,status:1,remark:"",dictType:f.dictType}},p=()=>{i.isShowDialog=!1},x=()=>{p()},F=()=>{const r=l(V);r&&r.validate(e=>{e&&(i.ruleForm.dictCode!==0?q(i.ruleForm).then(()=>{D.success("字典数据修改成功"),p(),_("dataList")}):z(i.ruleForm).then(()=>{D.success("字典数据添加成功"),p(),_("dataList")}))})};return(r,e)=>{const n=s("el-input"),u=s("el-form-item"),L=s("el-input-number"),T=s("el-switch"),g=s("el-radio"),U=s("el-radio-group"),w=s("el-form"),b=s("el-button"),R=s("el-dialog");return O(),W("div",A,[t(R,{title:(l(o).dictCode!==0?"修改":"添加")+"字典",modelValue:l(c),"onUpdate:modelValue":e[7]||(e[7]=a=>Z(c)?c.value=a:null),width:"769px"},{footer:d(()=>[$("span",G,[t(b,{onClick:x,size:"default"},{default:d(()=>[m("取 消")]),_:1}),t(b,{type:"primary",onClick:F,size:"default"},{default:d(()=>[m(j(l(o).dictCode!==0?"修 改":"添 加"),1)]),_:1})])]),default:d(()=>[t(w,{model:l(o),ref_key:"formRef",ref:V,rules:l(C),size:"default","label-width":"90px"},{default:d(()=>[t(u,{label:"字典类型"},{default:d(()=>[t(n,{modelValue:l(o).dictType,"onUpdate:modelValue":e[0]||(e[0]=a=>l(o).dictType=a),disabled:!0},null,8,["modelValue"])]),_:1}),t(u,{label:"数据标签",prop:"dictLabel"},{default:d(()=>[t(n,{modelValue:l(o).dictLabel,"onUpdate:modelValue":e[1]||(e[1]=a=>l(o).dictLabel=a),placeholder:"请输入数据标签"},null,8,["modelValue"])]),_:1}),t(u,{label:"数据键值",prop:"dictValue"},{default:d(()=>[t(n,{modelValue:l(o).dictValue,"onUpdate:modelValue":e[2]||(e[2]=a=>l(o).dictValue=a),placeholder:"请输入数据键值"},null,8,["modelValue"])]),_:1}),t(u,{label:"显示排序",prop:"dictSort"},{default:d(()=>[t(L,{modelValue:l(o).dictSort,"onUpdate:modelValue":e[3]||(e[3]=a=>l(o).dictSort=a),"controls-position":"right",min:0},null,8,["modelValue"])]),_:1}),t(u,{label:"系统默认"},{default:d(()=>[t(T,{modelValue:l(o).isDefault,"onUpdate:modelValue":e[4]||(e[4]=a=>l(o).isDefault=a),"active-text":"是","inactive-text":"否","active-value":1,"inactive-value":0},null,8,["modelValue"])]),_:1}),t(u,{label:"状态",prop:"status"},{default:d(()=>[t(U,{modelValue:l(o).status,"onUpdate:modelValue":e[5]||(e[5]=a=>l(o).status=a)},{default:d(()=>[t(g,{value:1},{default:d(()=>[m("启用")]),_:1}),t(g,{value:0},{default:d(()=>[m("禁用")]),_:1})]),_:1},8,["modelValue"])]),_:1}),t(u,{label:"备注",prop:"remark"},{default:d(()=>[t(n,{modelValue:l(o).remark,"onUpdate:modelValue":e[6]||(e[6]=a=>l(o).remark=a),type:"textarea",placeholder:"请输入内容"},null,8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])]),_:1},8,["title","modelValue"])])}}});export{P as _};
